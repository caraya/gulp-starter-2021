<html lang="en" dir="ltr" class="no-js lazy">

<head>
  <!--<link rel="stylesheet" href="ccs/github.css">-->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/image-load.css">
  <link rel="stylesheet" href="css/video-load.css">
  <link rel="stylesheet" href="css/prism.css">
  <!-- <script async src="scripts/menu.js"></script> -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <title></title>
</head>

<body>
<article class="container">
  <h1 id="dealing-with-third-party-libraries" tabindex="-1">Dealing with third party libraries</h1>
<p>In <a href="https://publishing-project.rivendellweb.net/do-you-know-where-your-third-parties-are-going/">Do you know where your third parties are going?</a> we discussed part of the problem: How to measure the additional impact these scripts have on our site’s performance when they add more scripts that may block rendering?</p>
<p>This post will cover some additional concerns I have with third party scripts.</p>
<p>We need to evaluate third party libraries for use in our applications.  This doesn’t mean to only look at the code and decide which one you like best but it also means to test the code in your application and see which library or script works best in your specific situation.</p>
<p>The first example that came to mind is date/time manipulation and <a href="https://momentjs.com/">moment.js</a> versus <a href="https://date-fns.org/">date.fns</a>. There are many comparisons between the two and with many other date/time manipulation libraries.</p>
<p>I first start by researching what others have said about the libraries and how they’ve compared them. There’s been plenty written about the libraries and their differences:</p>
<ul>
<li><a href="https://blog.logrocket.com/javascript-date-libraries/">The 7 best JavaScript date libraries</a></li>
<li><a href="https://medium.com/@k2u4yt/momentjs-vs-date-fns-6bddc7bfa21e">momentjs vs date-fns</a></li>
<li><a href="https://javascript-conference.com/blog/why-you-should-use-date-fns-for-manipulating-dates-with-javascript/">Why you should use Date.fns for manipulating dates with Javascript</a></li>
</ul>
<p>That’s just a starting point, I will then run tests to validate the opinion I formed from reading other’s research. I may have constraints that are not present for the people who wrote the articles I read and viceversa.</p>
<p>Some of the questions I would ask, based on research and needs.</p>
<ol>
<li>Does the library affect performance due to size? The larger a library is the longer it’ll take to download and parse before it can be used
<ol>
<li>Is there a way to reduce the size of the library without using bundlers? Lo Dash and Date.fns also provide modules for individual properties for use with common.js require statements</li>
</ol>
</li>
<li>How easy is it for a bundler like WebPack or Rollup to tree shake the library to remove unused code from this package?</li>
<li>Am I required to use modules and/or transpiler to make the library work?
<ol>
<li>Am I already using modules or bundlers?</li>
<li>Do I have to support browsers that don’t support modules or imports?</li>
</ol>
</li>
<li>Is there an existing API in the ECMA 262 specification that does what I need?
<ol>
<li>Is the proposal part of the ES262 spec? Meaning it has already been published or is at stage 4 waiting for the next version of the spec?</li>
<li>If it’s not at stage 4 then what stage? What browsers have implemented the proposal before moving to stage 4?</li>
</ol>
</li>
</ol>
<p>The last point is important. As ECMAScript continues to evolve, new proposals will appear that will provide native support for the feature only in browsers that support the feature when it reaches stage 4 in the <a href="https://tc39.es/process-document/">TC39 development process</a> and becomes part of the annual specification.</p>
<p>Taking date/time manipulation as an example, again. Once the <a href="https://tc39.es/proposal-temporal/docs/">Temporal proposal</a> makes its way through the TC39 system, assuming that it does, we have another standard way to manage dates. At that point I hope we’ll re-evaluate using libraries as our primary way to handle dates and times in Javascript.</p>
<p>Everywhere you find Javascript you will find similar examples of complexity and performant code and we’ll have to continue to priotitize between libraries based on the version of Javascript you work with, any potential need to support older browsers, and your performance budget.</p>

</article>
<!--
</div> -->
<script src="scripts/lazy-load.js"></script>
<script src="scripts/vendor/clipboard.min.js"></script>
<script src="scripts/vendor/prism.js"></script>
<script src="scripts/vendor/fontfaceobserver.js"></script>
<script src="scripts/load-fonts.js"></script>
<script src="scripts/lazy-load-video.js"></script>
</body>
</html>