<html lang="en" dir="ltr" class="no-js lazy">

<head>
  <!--<link rel="stylesheet" href="ccs/github.css">-->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/image-load.css">
  <link rel="stylesheet" href="css/video-load.css">
  <link rel="stylesheet" href="css/prism.css">
  <!-- <script async src="scripts/menu.js"></script> -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <title></title>
</head>

<body>
<article class="container">
  <h1 id="underlines-in-css" tabindex="-1">Underlines in CSS</h1>
<p>CSS provides ways to play with the underline of elements beyond removing the underline from links and only showing it on hover.</p>
<p><a href="https://drafts.csswg.org/css-text-decor-4/">CSS Text Decoration Module Level 4</a> provides four longhand properties one shorthand property for underlining text.</p>
<p>This post will cover the <code>text-decoration-*</code> properties and some adjacent properties:</p>
<ul>
<li>The <code>text-decoration-skip-*</code> properties</li>
<li><code>text-underline-position</code></li>
<li><code>text-underline-offset</code></li>
</ul>
<p>We will also discuss <a href="https://css-tricks.com/when-to-avoid-css-text-decoration-shorthand/">When to Avoid the text-decoration Shorthand Property</a>. Using the shorthand property is nice as it saves typing but it’s not always the best option. The post explains when and why it may be a good idea to use the longhand properties.</p>
<h2 id="text-decoration-*%3A-managing-underlines" tabindex="-1">text-decoration-*: managing underlines</h2>
<p>The four properties we can use to manage underlines in the page are:</p>
<ul>
<li><code>text-decoration-line</code> controls the type of line we underline with</li>
<li><code>text-decoration-style</code> controls the style of the underline</li>
<li><code>text-decortion-color</code> handles the color of the underline</li>
<li><code>text-decoration-thickness</code> controls the thickness of the underline</li>
</ul>
<p>With these four properties we can do some really interesting things to the underlined text in the page.</p>
<p>Note that all these examples will use the longhand property names and the <code>:all-links</code> pseudo class selector to make sure we only target links with an <code>href</code> attribute.</p>
<p>Using <code>text-decoration-thickness</code> controls how thick the underline is.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">:any-link</span> <span class="token punctuation">{</span>
  <span class="token property">text-decoration-thickness</span><span class="token punctuation">:</span> 0.085rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The color of the link is controlled using <code>text-decoration-color</code></p>
<pre class="language-css"><code class="language-css"><span class="token selector">:any-link</span> <span class="token punctuation">{</span>
  <span class="token property">text-decoration-color</span><span class="token punctuation">:</span> hotpink<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The style of the underline is controlled using <code>text-decoration-style</code>.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">:any-link</span> <span class="token punctuation">{</span>
  <span class="token property">text-decoration-style</span><span class="token punctuation">:</span> wavy<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>A different set of styles can be applied using the <code>text-decoration-line</code> property.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">:any-link</span> <span class="token punctuation">{</span>
  <span class="token property">text-decoration-line</span><span class="token punctuation">:</span> overline<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>There is a shorthand property, <code>text-decoration</code>, that can be used to set all four properties at once.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">:any-link</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> underline<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> navy dotted underline<span class="token punctuation">;</span> <span class="token comment">/* Ignored in CSS1/CSS2 UAs */</span>
<span class="token punctuation">}</span>
</code></pre>
<p>If you skip a property the value will be inherited from the parent element.</p>
<h3 id="when-not-to-use-the-text-decoration-shorthand" tabindex="-1">When not to use the text-decoration shorthand</h3>
<p>As discussed in <a href="https://css-tricks.com/when-to-avoid-css-text-decoration-shorthand/">When to Avoid the text-decoration Shorthand Property</a> you shouldn’t use the shorthand <code>text-decoration</code> property if you’ve customized underlines with long hand properties.</p>
<p>In the following example, the `text-decoration-color will not be inherited from the parent element.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">:any-link</span> <span class="token punctuation">{</span>
  <span class="token property">text-decoration-thickness</span><span class="token punctuation">:</span> 0.08em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">header :any-link</span> <span class="token punctuation">{</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">header :any-link:hover</span> <span class="token punctuation">{</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> underline<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><code>text-decoration</code> is a shorthand property and <code>text-decoration-thickness</code> its associated longhand property. Setting <code>text-decoration</code> to none or underline without setting the values for the other properties reinitializes the other three text decoration components (thickness, style, and color).</p>
<h2 id="related-properties" tabindex="-1">Related properties</h2>
<p>There are three related properties that can be used to control underlining</p>
<h3 id="text-decoration-skip-*" tabindex="-1"><code>text-decoration-skip-*</code></h3>
<p>The <code>text-decoration-skip</code> property and its longhand properties (<code>text-decoration-skip-self</code>, <code>text-decoration-skip-box</code>, <code>text-decoration-skip-inset</code>, <code>text-decoration-skip-spaces</code>, <code>text-decoration-skip-ink</code>) control interruptions in line decorations for which the element or an ancestor is the decorating box. The none value sets all sub-properties to none, and the auto value sets all sub-properties to their initial values.</p>
<p>The one I use most often is <code>text-decoration-skip-ink</code> to cause the underline on links to skip descenders and, in my opinion, makes the text easier to read.</p>
<p>See the draft spec for <a href="https://drafts.csswg.org/css-text-decor-4/#text-decoration-skipping">text-decoration-skip</a> for more details. <strong>It is also important to note the section in the specification is a rough draft and has not yet been vetted by the CSSWG</strong>.</p>
<h3 id="text-underline-position" tabindex="-1"><code>text-underline-position</code></h3>
<p>This property, which is not a sub-property of the text-decoration shorthand (meaning you have to set it separately from  <code>text-decoration</code> ), sets the position of an underline with respect to the text, and defines its zero position for further adjustment by text-underline-offset.</p>
<p>This is most useful in non latin languages, particularly those that use vertical writing modes.</p>
<p>The possible values are:</p>
<p><code>auto</code>
:The user agent may use any algorithm to determine the underline’s position; however it must be placed at or under the alphabetic baseline.
: Note: It is suggested that the default underline position be close to the alphabetic baseline, unless that would either cross subscripted (or otherwise lowered) text or draw over glyphs from Asian scripts such as Han or Tibetan for which an alphabetic underline is too high: in such cases, shifting the underline lower or aligning to the em box edge as described for <code>under</code> may be more appropriate.</p>
<p><code>from-font</code>
: If the first available font has metrics indicating a preferred underline offset, use that offset, otherwise behaves as auto.</p>
<p><code>under</code>
: The underline is positioned under the element’s text content. In this case the underline usually does not cross the descenders. (This is sometimes called <strong>accounting</strong> underline.) This value can be combined with left or right if a particular side is preferred in vertical typographic modes.
: Because <code>text-underline-position</code> inherits, and is not reset by the text-decoration shorthand, the following example switches the document to use under underlining, which can be more appropriate for writing systems with long, complicated descenders. It is also often useful for mathematical or chemical texts that use many subscripts.
: Note: The under value does not guarantee that the underline will not conflict with glyphs, as some fonts have descenders or diacritics that extend below the font’s descent metrics.</p>
<p><code>left</code>
: In vertical typographic modes, the underline is aligned as for under, except it is always aligned to the left edge of the text. If this causes the underline to be drawn on the “over” side of the text, then an overline also switches sides and is drawn on the “under” side.</p>
<p><code>right</code>
: In vertical typographic modes, the underline is aligned as for under, except it is always aligned to the right edge of the text. If this causes the underline to be drawn on the “over” side of the text, then an overline also switches sides and is drawn on the “under” side.</p>
<h3 id="text-underline-offset" tabindex="-1"><code>text-underline-offset</code></h3>
<p>This property, which is <strong>not</strong> a sub-property of the text-decoration shorthand, sets the offset of underlines from their zero position. Positive offsets represent distances outward from the text; negative offsets inward.</p>
<p>Values have the following meanings:</p>
<p><code>auto</code>
: The UA chooses an appropriate offset for underlines.
: However, this offset must be zero if the computed value of text-underline-position is from-font and the UA was able to extract an appropriate metric to use from the font.</p>
<p><code>&lt;length&gt;</code>
: Specifies the offset of underlines as a fixed length.
: <strong>Note</strong>: A length will inherit as a fixed value, and will not scale with the font.</p>
<p><code>&lt;percentage&gt;</code>
: Specifies the offset of underlines as a percentage of 1em.
: <strong>Note</strong>: A percentage will inherit as a relative value, and will therefore scale with changes in the font as it inherits.</p>
<p>When the value of the <code>text-decoration-line</code> property is either <code>spelling-error</code> or <code>grammar-error</code>, the UA may ignore the value of <code>text-underline-position</code>.</p>

</article>
<!--
</div> -->
<script src="scripts/lazy-load.js"></script>
<script src="scripts/vendor/clipboard.min.js"></script>
<script src="scripts/vendor/prism.js"></script>
<script src="scripts/vendor/fontfaceobserver.js"></script>
<script src="scripts/load-fonts.js"></script>
<script src="scripts/lazy-load-video.js"></script>
</body>
</html>