<html lang="en" dir="ltr" class="no-js lazy">

<head>
  <!--<link rel="stylesheet" href="ccs/github.css">-->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/image-load.css">
  <link rel="stylesheet" href="css/video-load.css">
  <link rel="stylesheet" href="css/prism.css">
  <!-- <script async src="scripts/menu.js"></script> -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <title></title>
</head>

<body>
<article class="container">
  <h1 id="creating-a-word-cloud" tabindex="-1">Creating a word cloud</h1>
<blockquote>
<p>A word cloud represents word usage in a document by resizing individual words in said document proportionally to how frequently they are used, and then jumbling them into some vaguely artistic arrangement.</p>
<p>— <a href="http://www.niemanlab.org/2011/10/word-clouds-considered-harmful/">Word clouds considered harmful</a></p>
</blockquote>
<figure>
<img src='https://media.nngroup.com/media/editor/2012/11/18/wordle-word-cloud-applications.png' alt=''>
<figcaption>example of a word cloud</figcaption>
<p>Essentially, a word cloud uses the size of a word to indicate the frequency of that word in a piece of text. It is meant to show word frequency not as a detailed data analysis for the content being studied.  It is not intended for deeper data analysis</p>
<p>We’ll use Python’s <a href="http://www.nltk.org/">Natural Language Toolkit</a> to generate a list of the 200 most used Words in Moby Dick. Make sure you follow the instructions on <a href="http://www.nltk.org/book/ch01.html">chapter 1</a> of Language Processing and Python to get the data set up.</p>
<p>The script uses content from <a href="http://www.nltk.org/book/ch01.html">Natural Language Processing with Python</a> to generate the frequency distribution and the English stop words included with the Natural Language Toolkit to eliminate 1 letter words and punctuation signs to make the cloud more relevant to the text.</p>
<pre class="language-python"><code class="language-python"><span class="token comment">#!/usr/bin/env python3</span>

<span class="token comment"># Imports json module</span>
<span class="token keyword">import</span> json
<span class="token comment"># Loads the books we downloaded</span>
<span class="token keyword">from</span> nltk<span class="token punctuation">.</span>book <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token comment"># Import stopwords list for English</span>
<span class="token keyword">from</span> nltk<span class="token punctuation">.</span>corpus <span class="token keyword">import</span> stopwords

<span class="token comment"># Set the stopwords words to English</span>
stop <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span>stopwords<span class="token punctuation">.</span>words<span class="token punctuation">(</span><span class="token string">'english'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Creates a frequency distribution for</span>
fdist1 <span class="token operator">=</span> FreqDist<span class="token punctuation">(</span>text1<span class="token punctuation">)</span>

<span class="token comment"># Creates a list of the 200 most common words on Moby Dick</span>
mostCommon <span class="token operator">=</span> fdist1<span class="token punctuation">.</span>most_common<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>

<span class="token comment"># Print out most common</span>
<span class="token comment">#print(mostCommon)</span>

<span class="token comment">#filteredList = [w for w[0] in mostCommon if w not in stopwords]</span>

<span class="token comment"># Write o utput to file</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'cloud.json'</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>mostCommon<span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>Once we have the data, saved as <code>cloud.json</code>, we can do something like the following:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Starting values were:</span>
<span class="token comment">// width: 2140 - margin.right - margin.left</span>
<span class="token comment">// height : 1640 - margin.top - margin.bottom</span>
<span class="token keyword">var</span> margin <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token literal-property property">right</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token literal-property property">bottom</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    width <span class="token operator">=</span> <span class="token number">1070</span> <span class="token operator">-</span> margin<span class="token punctuation">.</span>right <span class="token operator">-</span> margin<span class="token punctuation">.</span>left<span class="token punctuation">,</span>
    height <span class="token operator">=</span> <span class="token number">820</span> <span class="token operator">-</span> margin<span class="token punctuation">.</span>top <span class="token operator">-</span> margin<span class="token punctuation">.</span>bottom<span class="token punctuation">;</span>

d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre>

</article>
<!--
</div> -->
<script src="scripts/lazy-load.js"></script>
<script src="scripts/vendor/clipboard.min.js"></script>
<script src="scripts/vendor/prism.js"></script>
<script src="scripts/vendor/fontfaceobserver.js"></script>
<script src="scripts/load-fonts.js"></script>
<script src="scripts/lazy-load-video.js"></script>
</body>
</html>