<html lang="en" dir="ltr" class="no-js lazy">

<head>
  <!--<link rel="stylesheet" href="ccs/github.css">-->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/image-load.css">
  <link rel="stylesheet" href="css/video-load.css">
  <link rel="stylesheet" href="css/prism.css">
  <!-- <script async src="scripts/menu.js"></script> -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <title></title>
</head>

<body>
<article class="container">
  <h1 id="using-figures-for-more-than-images">Using figures for more than images</h1>
<p>Most examples of figures on the web are images with a caption. But that’s only one use for the figure element.</p>
<p>In this post we’ll look at four different types of figures with captions:</p>
<ol>
<li>Images</li>
<li>Code listing</li>
<li>Ordered and bulleted listings</li>
<li>Tables</li>
</ol>
<p>We will also look at CSS to create Counters and to place the caption in different locations around the content.</p>
<div class="message warning">
  <h3>Warning</h3>
  <p>The examples in this post use the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:has">:has</a> pseudo-class. This is not supported in Firefox according to Caniuse.</p>
  <p>Until the Mozilla crew provides support you will have to either not use the property or wrap the code in <code>@supports</code> blocks while providing an alternative implementation for Firefox</p>
</div>
<h2 id="what-is-a-figure-in-html%3F">What is a figure in HTML?</h2>
<p>According to the <a href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-figure-element">HTML specification</a>:</p>
<blockquote>
<p>The figure element represents some <a href="https://html.spec.whatwg.org/multipage/dom.html#flow-content-2">flow content</a>, optionally with a caption, that is self-contained (like a complete sentence) and is typically referenced as a single unit from the main flow of the document.</p>
</blockquote>
<p>A caption can be associated with the <code>figure</code> element by inserting a <code>figcaption</code> as the first or the last child of the <code>figure</code> element. Browsers will render the first <code>figcaption</code> element found in the figure regardless of its location.</p>
<h2 id="so-what-can-we-use-figures-for%3F">So what can we use figures for?</h2>
<p>The four items that we’re creating figures for are usually those that would appear in a journal article.</p>
<h3 id="images">Images</h3>
<p>The basic example is to use an image. This is a barebones example.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>`figure`</span>
  <span class="token attr-name">&lt;img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>path/to/images/my-image.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>alternate text for image<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  &lt;`figcaption`This is the image caption&lt;/`figcaption`
&lt;/`figure`
</code></pre>
<h3 id="code-listings">Code Listings</h3>
<p>The next example shows how to create figures with code examples. We use the same tags that we’d use when using a syntax highlighter library like Prism.js: <code>&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code&gt;</code> and close them in the reverse order <code>&lt;/code&gt;&lt;/pre&gt;</code>.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>`figure`</span>
  <span class="token attr-name">&lt;pre</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>language-javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>window.CSS.registerProperty({
  name: `--color-${name}`,
  syntax: '<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>color</span><span class="token punctuation">></span></span>',
  inherits: true,
  initialValue: '`${cssColor}`',
}) <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">></span></span>
  &lt;`figcaption`&lt;/`figcaption`
&lt;/`figure`
</code></pre>
<p>If you’ve installed Prism.js or another syntax highlighter on your page, this should highight the code in your figure but not the caption for the code listing.</p>
<h3 id="ordered-and-bulleted-lists">Ordered and bulleted lists</h3>
<p>I’m ambivalent about using figures for lists of content. But if we’re going to potentially group them together and provide captions, then I guess I’m OK with it.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>`figure`</span>
  <span class="token attr-name">&lt;ol</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Do this first<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Do this second<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Do this third<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Do this last<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">></span></span>
  &lt;`figcaption`List of tasks to do&lt;/`figcaption`
&lt;/`figure`
</code></pre>
<h3 id="tables">Tables</h3>
<p>I am not advocating using tables for layout. This is for adding captions to data tables.</p>
<p>We could also use the <code>caption</code> as a child of the <code>table</code> element itself but I’d rather keep all my captions the same.</p>
<p>Using figures will allow for easy styling with CSS.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Valid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>col<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Invalid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>"version": 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>'version': 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span>
&lt;`figcaption`Valid and invalid examples of JSON code&lt;/`figcaption`
&lt;/`figure`
</code></pre>
<h2 id="styling-figures-and-captions">Styling figures and captions</h2>
<p>We can create different types of figures and we can style them differently based on their type.</p>
<h3 id="working-with-multiple-kinds-of-figures">Working with multiple kinds of figures</h3>
<p>Each type of figure has its own custom configuration in addition to features we will use when generating text for the captions.</p>
<p>For the sake of brevity I will skip the styling code. You can see in the Codepen at the end of the post.</p>
<h3 id="using-counters-and-generated-text">Using counters and generated text</h3>
<p>Adding numbering to figures is tedious. We could wait until we’re done and then add <code>figure</code> or <code>table</code> or <code>listing</code> or whatever name we’ve assigned to the figure type plus the appropriate number manually… if we later decide to insert or remove new images, then we need to redo all the work.</p>
<p>Instead, we will use the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/counter">counter</a> function and the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/content">content</a> property to annotate the captions without manually adding the type of figure and the number it occupies within the document.</p>
<p>I’ve chose to use <code>section</code> as the root for each chapter of content. It is there that we reset all the counters to make sure they all start from zero.</p>
<p>If we don’t want to restart numbering for each separate <code>section</code>, we can reset the counters higher up in the cascade, possibly a <code>main</code> element or even <code>body</code>.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">section</span> <span class="token punctuation">{</span>
  <span class="token property">counter-reset</span><span class="token punctuation">:</span> image-counter code-counter list-counter table-counter<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>For images, we use <code>figure:has(&gt; img)</code> and if the selector matches then we increment the <code>figure-image</code> counter.</p>
<p>Then we use the <code>::before</code> pseudo element to insert a string containing both text and the value of our counter.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">figure:has(> img)</span> <span class="token punctuation">{</span>
  <span class="token property">counter-increment</span><span class="token punctuation">:</span> image-counter<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">figure:has(img) figcaption::before</span> <span class="token punctuation">{</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> 700<span class="token punctuation">;</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">"Figure "</span> <span class="token function">counter</span><span class="token punctuation">(</span>image-counter<span class="token punctuation">)</span> <span class="token string">": "</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>While this is convenient, it has a drawback: <strong>The generated content we insert using <code>::before</code> is not added to the DOM of the page. This may cause the text not to be accessible to assistive technology tools and applications.</strong></p>
<p>When working with other figures, the only thing that change are the name of the counter and the css selector that we use.</p>
<table>
<thead>
<tr>
<th>Type of table</th>
<th>CSS selector</th>
<th>Counter</th>
</tr>
</thead>
<tbody>
<tr>
<td>Table</td>
<td>figure:has(&gt; table)</td>
<td>table-counter</td>
</tr>
<tr>
<td>Code</td>
<td>figure:has(pre)</td>
<td>code-counter;</td>
</tr>
<tr>
<td>Listings</td>
<td>figure:has(ol)<br>figure:has(ul)</td>
<td>list-counter</td>
</tr>
</tbody>
</table>
<h3 id="controlling-the-placement-of-captions">Controlling the placement of captions</h3>
<p>The placement of the caption does matter. If you place the caption before the content, the caption will appear above the content. If you place it below the content, the captions will appear below the content.</p>
<p>If we want to force the captions to be in a given location we can use classes to change the display of the caption to <code>display: table-caption</code> and set the location using <code>caption-side</code>.</p>
<p>The following example will force all the elements using the class to display the caption before the content regardless of where you place the <code>figcaption</code> element in the figure.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">figure.caption-top</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> table<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">figure.caption-top figcaption</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> table-caption<span class="token punctuation">;</span>
  <span class="token property">caption-side</span><span class="token punctuation">:</span> top<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="the-full-set-of-examples">The full set of examples</h2>
<iframe height="427.53057861328125" style="width: 100%;" scrolling="no" title="Figure Examples" src="https://codepen.io/caraya/embed/PoROrZj?default-tab=html%2Cresult" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href="https://codepen.io/caraya/pen/PoROrZj">
  Figure Examples</a> by Carlos Araya (<a href="https://codepen.io/caraya">@caraya</a>)
  on <a href="https://codepen.io">CodePen</a>.
</iframe>

</article>
<!--
</div> -->
<script src="scripts/lazy-load.js"></script>
<script src="scripts/vendor/clipboard.min.js"></script>
<script src="scripts/vendor/prism.js"></script>
<script src="scripts/vendor/fontfaceobserver.js"></script>
<script src="scripts/load-fonts.js"></script>
<script src="scripts/lazy-load-video.js"></script>
</body>
</html>