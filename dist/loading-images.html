<html lang="en" dir="ltr" class="no-js lazy">

<head>
  <!--<link rel="stylesheet" href="ccs/github.css">-->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/image-load.css">
  <link rel="stylesheet" href="css/video-load.css">
  <link rel="stylesheet" href="css/prism.css">
  <!-- <script async src="scripts/menu.js"></script> -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <title></title>
</head>

<body>
<article class="container">
  <h1>Quick Note: Loading images using javascript</h1>
<p>I’m not a fan of doing this but there are use cases when we need to retrieve an image from the network and place it in the page. One case that comes to mind is the need to retrieve generated images from a real time application to display in web pages or other parts of a web application.</p>
<p>In the example below I’ve added comments to the specific lines to discuss.</p>
<pre><code class="language-javascript">fetch('https://rivendellweb.net/blog/wp-content/uploads/2016/10/IMG_0813.jpg')
// 1
    .then(response =&gt; {
      return response.blob(); // 2
    })
    .then(imageBlob =&gt; {
    let img = document.createElement(img); // 3
    img.src = window.URL.createObjectURL(imageBlob); // 4
    })
  // 5  Place the image
  .catch(err =&gt; { // 6
    console.log('There was an error loading the image ', err);
  });
</code></pre>
<ol>
<li>Fetch the image</li>
<li>Return the response as a blob (binary object)</li>
<li>Create and image</li>
<li>Create a src attribute by using URL.createObjectURL with the imageBlob as the parameter</li>
<li>Place the image in the page. Left intentionally blank because it depends on usage</li>
<li>Catch any errors and log them to console</li>
</ol>
<h2>Links and Resources</h2>
<ul>
<li><a href="https://fetch.spec.whatwg.org/">Fetch Living Standaard - WHATWG</a></li>
<li><a href="https://css-tricks.com/using-fetch/">Using Fetch - CSS Tricks</a></li>
<li><a href="https://davidwalsh.name/fetch">Fetch API - David Walsh</a></li>
</ul>

</article>
<!--
</div> -->
<script src="scripts/lazy-load.js"></script>
<script src="scripts/vendor/clipboard.min.js"></script>
<script src="scripts/vendor/prism.js"></script>
<script src="scripts/vendor/fontfaceobserver.js"></script>
<script src="scripts/load-fonts.js"></script>
<script src="scripts/lazy-load-video.js"></script>
</body>
</html>