<html lang="en" dir="ltr" class="no-js lazy">

<head>
  <!--<link rel="stylesheet" href="ccs/github.css">-->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/image-load.css">
  <link rel="stylesheet" href="css/video-load.css">
  <link rel="stylesheet" href="css/prism.css">
  <!-- <script async src="scripts/menu.js"></script> -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <title></title>
</head>

<body>
<article class="container">
  <h1 id="building-long-form-content-on-the-web%3A-font-availability">Building long form content on the web: Font availability</h1>
<p>In a previous post we looked at what font should we choose. Another side of the question is where to get the fonts from.</p>
<p>This post will discuss font availability and how to incorporate the fonts into your CSS stylesheets.</p>
<p>Variable fonts will not be covered here. They are a large topic and will get their own post later in the series.</p>
<h2 id="generic-font-families">Generic font families</h2>
<p>Generic font familities are designed as fallback fonts for web font stacks. The idea is that they will map to an existing font on the user’s computer so there will be a font to render the contet. It may not match exactly what the designer had in mind but at least it will work.</p>
<p>Generic font families are best used as the last element in a <code>font-family</code> declaration, to be used only when no other option is available.</p>
<p>The following table maps to the most common used generic font families</p>
<table>
<thead>
<tr>
<th>Font</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Serif</strong></td>
<td>Serif fonts represent the formal text style for a script. This often means, but is not limited to, glyphs that have finishing strokes, flared or tapering ends, or have actual serifed endings (including slab serifs). Serif fonts are typically proportionately-spaced.</td>
</tr>
<tr>
<td><strong>Sans-Serif</strong></td>
<td>Glyphs in sans-serif fonts, as the term is used in CSS, are generally low contrast (vertical and horizontal stems have the close to the same thickness) and have stroke endings that are plain (without any flaring, cross stroke, or other ornamentation). Sans-serif fonts are typically proportionately-spaced. They often have little variation between thick and thin strokes, compared to fonts from the serif family.</td>
</tr>
<tr>
<td><strong>Monospace</strong></td>
<td>The sole criterion of a monospace font is that all glyphs have the same fixed width. This is often used to render samples of computer code.</td>
</tr>
<tr>
<td>System UI</td>
<td>This generic font family lets text render with the default user interface font on the platform on which the UA is running. A cross-platform UA should use different fonts on its different supported platforms. The purpose of system-ui is to allow web content to integrate with the look and feel of the native OS.</td>
</tr>
</tbody>
</table>
<p>There are other, less frequently used generic font families defined in the specification. See <a href="https://www.w3.org/TR/css-fonts-4/#generic-font-families">2.1.3. Generic font families</a> in the CSS Fonts Module Level 4 specification.</p>
<p>Other than <code>system-ui</code> discussed later in System fonts, generic font families are used as a last resort to provide some level of uniformity to design in case other fonts are not available</p>
<h2 id="microsoft-webfonts">Microsoft webfonts</h2>
<p>The first set of fonts designed work on the web are the <a href="https://en.wikipedia.org/wiki/Core_fonts_for_the_Web">Core fonts for the Web</a> released by Microsoft under a a combination of their own license and licenses from the Monotype foundry.</p>
<p>The included fonts are:</p>
<ul>
<li>Andalé Mono</li>
<li>Arial</li>
<li>Arial Black</li>
<li>Comic Sans MS</li>
<li>Courier New</li>
<li>Georgia</li>
<li>Impact</li>
<li>Times New Roman</li>
<li>Trebuchet MS</li>
<li>Verdana</li>
<li>Webdings</li>
</ul>
<p>The program released these fonts are freeware with some distribution restrictions until 2002.</p>
<p>Versions of these fonts released after 2002 are not part of the core fonts project and are released under different terms and licenses.</p>
<p>These fonts are still very likely to be in your computer either because you downloaded them or a product that bundles the fonts for you.</p>
<p>Using the fonts would be as simple as using them in a <code>font-family</code> attribute.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> Verdana<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="typekit">Typekit</h2>
<p>Web fonts were part of the CSS 2 specification but foundries were afraid that people would streal their fonts so they crafted their licenses in such developers could not use embedable fonts and comply with the license.</p>
<p>Typekit, the first service to offer downloadble fonts, was released in 2009 and acquired by Adobe in 2011.</p>
<p>Typekit provides many ways to load fonts on a site. There is a legcy code, what has been used for years:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://use.typekit.net/xxxxxxx.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">try</span><span class="token punctuation">{</span>Typekit<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">async</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre>
<p>And a newer asynchronous script that load both the script and the css necessary to run the font. This is the recommended way to add Typekit fonts to your site.</p>
<pre class="language-js"><code class="language-js"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">kitId</span><span class="token operator">:</span> <span class="token string">'abc1def'</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> tk <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  tk<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'//use.typekit.net/'</span> <span class="token operator">+</span> config<span class="token punctuation">.</span>kitId <span class="token operator">+</span> <span class="token string">'.js'</span><span class="token punctuation">;</span>
  tk<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text/javascript'</span><span class="token punctuation">;</span>
  tk<span class="token punctuation">.</span>async <span class="token operator">=</span> <span class="token string">'true'</span><span class="token punctuation">;</span>
  tk<span class="token punctuation">.</span>onload <span class="token operator">=</span> tk<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> rs <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>readyState<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>d <span class="token operator">||</span> rs <span class="token operator">&amp;&amp;</span> rs <span class="token operator">!=</span> <span class="token string">'complete'</span> <span class="token operator">&amp;&amp;</span> rs <span class="token operator">!=</span> <span class="token string">'loaded'</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    d <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span> Typekit<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> s <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  s<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>tk<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>In both cases you then reference the font you loaded from your CSS.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"chaparrall pro"</span><span class="token punctuation">,</span> serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>I mention Typekit because it’s part of Adobe Creative Suite (as Adobe Fonts), making it easier to work through licenses and use on your web projects.</p>
<h2 id="google-fonts">Google Fonts</h2>
<p>Google fonts was first released in 2010 and currently provides over 1400 fonts, most of them open source under the <a href="https://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&amp;id=OFL">SIL Open Font license</a>.</p>
<p>To use a font just click <code>download family</code> and it will download all available styles for you. You can then pick which styles you want and load them using <code>@font-face</code>.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> Roboto<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="potential-legal-issues">Potential legal issues</h3>
<p>Google fonts used to provide a means to load the fonts from Google servers but that has changed since a German court fined a website for using Google Fonts and passing their user’s IP address to Google without notifying the user and giving them a way to decline.</p>
<p>See <a href="https://www.theregister.com/2022/01/31/website_fine_google_fonts_gdpr/">Website fined by German court for leaking visitor’s IP address via Google Fonts</a> and <a href="https://thehackernews.com/2022/01/german-court-rules-websites-embedding.html">German Court Rules Websites Embedding Google Fonts Violates GDPR</a>.</p>
<p>How will this affect other font providers is unclear but I fail to see how this would affect only one provider and not others.</p>
<h2 id="local-web-fonts">Local web fonts</h2>
<p>Given the problems with Google Fonts and the likely problems with other providers the best, and likely only, way to use web fonts and remain compliant with laws like the GDPR is to host fonts locally and loading using the <code>@font-face</code> at-rule.</p>
<p>The default way to use <code>@font-face</code> looks like this:</p>
<p>We specify the <code>font-family</code> name that we will use throughout the stylesheet.</p>
<p>Then we specify a <code>src</code> attribute with one or more locations for the file. In this example I’m using a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/url">url</a> function to specify the location of the font relative to the stylesheet. The format tells the browser the kind of font it represents.</p>
<p>I specify the weight of the font so that the browser will know what file to associate with what weight declaration.</p>
<p>Specifying the style for the font tells the browser if the font is italic or not.</p>
<p>The final declaraction is <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display">font-display</a>. This will control how the font will behave based on when the browser finished downloading the font. The <code>swap</code> value will cause the font to swap in with the system font once the web font is downloaded.</p>
<p>You will have to load each font separately with its own <code>@font-face</code>. There should be at least four different <code>@font-face</code> declarations per font that you want to use.</p>
<ul>
<li>Regular font (regular weight, non italic)</li>
<li>Italic (regular weight)</li>
<li>Bold (non italic)</li>
<li>Bold Italic</li>
<li>Any additional weight that you’d want to use and associated italic and bold italic files</li>
</ul>
<p>This will prevent <a href="https://alistapart.com/article/say-no-to-faux-bold/">faux bold</a> and italics if there is no font available in the weight or style you want to use. The browser will then fake the bold or italic in order to show what it thinks the designer wants.</p>
<p>A way to combat faux bold, italics and small caps is to ue the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/font-synthesis">font-synthesis</a> that allows developers to control whether the browser synthesis algorithm applies to any/all of bold (weight), italics (style) or small caps.</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Roboto'</span><span class="token punctuation">;</span>
  <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'path/to/roboto.woff2'</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"woff2"</span><span class="token punctuation">)</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span>
  <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
  <span class="token property">font-display</span><span class="token punctuation">:</span> swap<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>You would then use the font like normal in your CSS with the addition of being able to use more granular values for <code>font-weight</code> and <code>font-stretch</code></p>
<h2 id="system-fonts">System fonts</h2>
<p>One way to improve performance is to default to the system font in the user’s computer. This is different than the generic font families in that there is a specific system font per OS and version that is guaranteed to be present, it is not a match to one of many possible fonts.</p>
<p>This uses a similar technique than the one we used for variable fonts but instead of listing different axes, it hardcodes the currently supported fonts for each operating system.</p>
<p>The table below, taken from <a href="https://css-tricks.com/snippets/css/system-font-stack/">System Font Stack</a> and modified for this article by dropping older operating systems and adding newer versions published after the article.</p>
<table>
<thead>
<tr>
<th>OS</th>
<th>Version</th>
<th>System Font</th>
</tr>
</thead>
<tbody>
<tr>
<td>macOS</td>
<td>Big Sur<br/>Monterey<br/>Ventura (currently in Beta)</td>
<td><a href="https://github.com/sahibjotsaggu/San-Francisco-Pro-Fonts">San Francisco Pro</a> (variable)</td>
</tr>
<tr>
<td>macOS</td>
<td>El Capitan<br/>Sierra<br/>High Sierra<br/>Mojave</td>
<td>San Francisco</td>
</tr>
<tr>
<td>Windows</td>
<td>11<br/>10</td>
<td><a href="https://aka.ms/SegoeUIVariable">Segoe UI Variable</a> (variable)</td>
</tr>
<tr>
<td>Windows</td>
<td>8.1</td>
<td><a href="https://docs.microsoft.com/en-us/typography/font-list/segoe-ui">Segoe UI</a></td>
</tr>
<tr>
<td>Android</td>
<td>Ice Cream Sandwich (4.0) and later</td>
<td><a href="https://fonts.google.com/specimen/Roboto">Roboto</a></td>
</tr>
<tr>
<td>Ubuntu</td>
<td>All versions</td>
<td><a href="http://font.ubuntu.com/">Ubuntu</a></td>
</tr>
</tbody>
</table>
<p>Using the information in the prior table we can use something like the following custom property to use system fonts in all operating systems.</p>
<p>In this case, the <code>system-ui</code> attribute will match the system default font (San Francisco in macOS) and then will then match the specific fonts, if they are available.</p>
<p>For long-form text system fonts may not be the best solution since the system geared towards UI but if you’re OK with the different fonts then this may be a way to improve performance and reduce the number of HTTP requests that you make.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">:root</span> <span class="token punctuation">{</span>
  <span class="token property">--system-ui</span><span class="token punctuation">:</span> 
    system-ui<span class="token punctuation">,</span>
    -apple-system<span class="token punctuation">,</span>
    BlinkMacSystemFont<span class="token punctuation">,</span>
    <span class="token string">"Segoe UI"</span><span class="token punctuation">,</span>
    Roboto<span class="token punctuation">,</span>
    Ubuntu<span class="token punctuation">,</span>
    Helvetica<span class="token punctuation">,</span>
    Arial<span class="token punctuation">,</span>
    sans-serif<span class="token punctuation">,</span>
    <span class="token string">"Apple Color Emoji"</span><span class="token punctuation">,</span>
    <span class="token string">"Segoe UI Emoji"</span><span class="token punctuation">,</span>
    <span class="token string">"Segoe UI Symbol"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>

</article>
<!--
</div> -->
<script src="scripts/lazy-load.js"></script>
<script src="scripts/vendor/clipboard.min.js"></script>
<script src="scripts/vendor/prism.js"></script>
<script src="scripts/vendor/fontfaceobserver.js"></script>
<script src="scripts/load-fonts.js"></script>
<script src="scripts/lazy-load-video.js"></script>
</body>
</html>