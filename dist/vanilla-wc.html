<html lang="en" dir="ltr" class="no-js lazy">

<head>
  <!--<link rel="stylesheet" href="ccs/github.css">-->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/image-load.css">
  <link rel="stylesheet" href="css/video-load.css">
  <link rel="stylesheet" href="css/prism.css">
  <!-- <script async src="scripts/menu.js"></script> -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <title></title>
</head>

<body>
<article class="container">
  <h1 id="before-we-start">Before we start</h1>
<p>Before we begin working with Polymer we need to review ES2015 classes and look at the Custom Elements V1 specification.</p>
<p>All browsers are building or have shipped support for the Custom Element and Shadow DOM V1 specifications; Chrome shipped an earlier implementation of the specs (known as V0) and will support it for the forseeable future but you should do all your work with the new specs and syntax and use polyfills for browsers that do not support it yet.</p>
<p>We will also look at extending classes, using mixins to add functionality and how to incorporate other specifications like HTML templates and Shadow DOM V1 into the mix to make our lives easier and create trully reusable code.</p>
<div class="message info">
Because we use classes and string template literals we will only work with ES6. There will be no ES5 examples
</div>
<h2 id="revisiting-es2015-classes">Revisiting ES2015 Classes</h2>
<p>I was surprised to find classes as part of ES6…  Ever since the language was created developers have had to learn to work with prototypal inheritance, how to make that chain work for us and what are the pitfalls to avoid when doing so. The first question I asked when I started looking at ES6 was what are classes in ES6?</p>
<p>They’re syntactic sugar on top of prototypical inheritance. Everything we’ll discuss in this section is built on top of the traditional prototypal inheritance framework and the parser will use that under the hood while we do all out shiny work with classes.
This will be our example to look at how classes work. It defines a class <code>Person</code> with three default elements:</p>
<ul>
<li><code>first</code> name</li>
<li><code>last</code> name</li>
<li><code>age</code></li>
</ul>
<p>It also defines 2 methods:</p>
<ul>
<li><code>fullName</code> returning the first and last name</li>
<li><code>howOld</code> returing the string <code>${this.name}</code> is  <code>${this.age}</code> years old</li>
</ul>
<p>Note that the methods use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">template literals</a> with string interpolations. The backticks are required for string literals and not an artifact of writing in Markdown</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">first<span class="token punctuation">,</span> last<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> first<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> last<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>


  <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>last<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">howOld</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> years old</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>To instantiate a new object of class Person we must use the new keyword like so:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> carlos <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'carlos'</span><span class="token punctuation">,</span> <span class="token string">'araya'</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Now we can use the class methods like this:</p>
<pre class="language-javascript"><code class="language-javascript">carlos<span class="token punctuation">.</span><span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// returns "carlos araya"</span>
carlos<span class="token punctuation">.</span><span class="token function">howOld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// returns "carlos is 49 years old"</span>
</code></pre>
<h2 id="subclasses%2C-extends-and-super">Subclasses, extends and super</h2>
<p>Now let’s say that we want to expand on the Person class by assigning additional attributes to the constructor and add additional methods.  We could copy all the material from the Person class into our new class, call it Engineer, but Javascript saves us from having to do so. The <code>extends</code> keyword allows us to use a class as the basis for another one.</p>
<p>To continue the example, we’ll extend <code>Person</code> to describe an <code>Engineer</code>. We’ll say that the Engineer is a person with all the attributes and methods of the Person class with 2 additions:</p>
<ul>
<li>They belong to a <code>department</code></li>
<li>They have a favorite programming language represented by the <code>lang</code> parameter</li>
</ul>
<p>The Engineer class is presented below:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Engineer</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">first<span class="token punctuation">,</span> last<span class="token punctuation">,</span> age<span class="token punctuation">,</span> department<span class="token punctuation">,</span> lang</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// super calls the parent class constructor for the listed attributes</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>first<span class="token punctuation">,</span> last<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>department <span class="token operator">=</span> department<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>language <span class="token operator">=</span> lang<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">affiliation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is in the </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>department<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> department</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">favoriteLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> favorite language is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>language<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In the constructor we pass the same three values as for the Person Class but, rather than assign them parameters like we did in the Person class, we simply call the constructor of the parent class using the <code>super</code> keyword.</p>
<p>The instruction <code>super(first, last, age)</code> tells the parser to hand the attributes to the parent class for processing.  The attributes that are particular to the Engineer class (<code>department</code> and <code>language</code>) are assigned normally.</p>
<p>We then add the methods specific to the Engineer class: What department they belong to and what’s their favorite programming language.</p>
<p>The instantiation is the same as before</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> william <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Engineer</span><span class="token punctuation">(</span><span class="token string">'William'</span><span class="token punctuation">,</span> <span class="token string">'Cameron'</span><span class="token punctuation">,</span> <span class="token number">49</span><span class="token punctuation">,</span> <span class="token string">'engineering'</span><span class="token punctuation">,</span> <span class="token string">'C++'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Now the cool part. Even though we didn’t add the methods <code>fullName</code> and <code>howOld</code> to the Engineer class we get them for free becaure they are defined in the parent.  With william (defined above) we can call methods from the parent class:</p>
<pre class="language-javascript"><code class="language-javascript">william<span class="token punctuation">.</span><span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// returns "William Cameron"</span>

william<span class="token punctuation">.</span><span class="token function">howOld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// returns "William is 49 years old"</span>
</code></pre>
<p>And we also get the methods that are exclusive to our Engineer class:</p>
<pre class="language-javascript"><code class="language-javascript">william<span class="token punctuation">.</span><span class="token function">affiliation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// returns "William is in the engineering department"</span>

william<span class="token punctuation">.</span><span class="token function">favoriteLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// returns "William favorite language is C++”</span>
</code></pre>
<h2 id="static-class-methods">static class methods</h2>
<p>This is something that still trips me but that will be necessary when working with Polymer elements later on.</p>
<p>According to MDN:</p>
<div class='message info'>
<p>Static methods are called without instantiating their class and are also not callable when the class is instantiated. Static methods are often used to create utility functions for an application.</p>
<p> &mdash; MDN Javascript Reference: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/static">static keyword</a></p>
</div>
<p>In order to call a static method within another static method of the same class, you can use the this keyword.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">StaticMethodCall</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">staticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token string">'Static method has been called'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">static</span> <span class="token function">anotherStaticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Note the use of this to reference staticMethod()</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">staticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">' from another static method'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

StaticMethodCall<span class="token punctuation">.</span><span class="token function">staticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 'Static method has been called'</span>

StaticMethodCall<span class="token punctuation">.</span><span class="token function">anotherStaticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 'Static method has been called from another static method'</span>
</code></pre>
<p>Static methods are not directly accessible using just the this keyword. You need to call them by using the class name in front: CLASSNAME.STATIC_METHOD_NAME (like other calls from outside of class) or by using the constructor property:  <code>this.constructor.STATIC_METHOD_NAME</code>.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">StaticMethodCall</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>StaticMethodCall<span class="token punctuation">.</span><span class="token function">staticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment">// 'static method has been called' </span>

     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>constructor<span class="token punctuation">.</span><span class="token function">staticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment">// 'static method has been called' </span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span>  <span class="token function">staticMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token string">'static method has been called.'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="static-method-example">Static Method Example</h3>
<p>In this example we create three classes:</p>
<ul>
<li>Triple is our base class. It defines a static <code>triple</code> method</li>
<li>BiggerTriple extends Triple and defines its own version of the <code>triple</code> method that returns a different value than the parent class</li>
<li><code>TP</code> is defined as a literal object</li>
</ul>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Triple</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">triple</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">BiggerTriple</span> <span class="token keyword">extends</span> <span class="token class-name">Triple</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">triple</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">triple</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">triple</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The first example calls <code>Triple.triple</code> without a value wich causes it to default to one. The function will return 3  as the value</p>
<pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Triple<span class="token punctuation">.</span><span class="token function">triple</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 3</span>
</code></pre>
<p>The second example calls <code>Triple.tripe</code> with a value which will be multiplied by 3 and return 18.</p>
<pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Triple<span class="token punctuation">.</span><span class="token function">triple</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 18</span>
</code></pre>
<p>This example calls <code>BiggerTriple.triple</code> which is a derived class and uses its own definition of the <code>triple</code> method.</p>
<pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>BiggerTriple<span class="token punctuation">.</span><span class="token function">triple</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 81</span>
</code></pre>
<p>We next define a new instance of the Triple class</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> tp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Triple</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><code>BiggerTripple.triple</code> still returns a value using its own definition of the triple method that uses the static methods from the parent class.</p>
<pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>BiggerTriple<span class="token punctuation">.</span><span class="token function">triple</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 81 (not affected by parent's instantiation)</span>
</code></pre>
<p>However <code>tp.triple</code> will fail because the class has not been defined, only instantiated.</p>
<pre class="language-javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tp<span class="token punctuation">.</span><span class="token function">triple</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 'tp.triple is not a function'.</span>
</code></pre>
<p>If we wanted this to work we would have to instantiate the <code>tp</code> class  and create its own version of <code>triple</code>.  Something like this:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">TP</span> <span class="token keyword">extends</span> <span class="token class-name">Triple</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">triple</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">triple</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="class-expressions">Class expressions</h2>
<p>Just like with functions we can use literal expressions to create class definitions. We can use unnamed and named declarations. The advantage of using named classes when creating them is that we can reuse them in other parts of our code.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// unnamed</span>
<span class="token keyword">let</span> Polygon <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span>
   <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">height<span class="token punctuation">,</span> width</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// named</span>
<span class="token keyword">let</span> Polygon2 <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">Polygon</span> <span class="token punctuation">{</span>
   <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">height<span class="token punctuation">,</span> width</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>These will become important when we start building mixins in the next section. We’ll use anonymous class expressions to create the mixin functions before we “mix” them with our classes.</p>
<h2 id="mixins">Mixins</h2>
<div class="message info">
<p>This is a concept I borrowed from Polymer, I'm researching if this can be used in regular web components and standardES6 classes. I will not document it any further.</p>
</div>
<p>Mixins are another name for abstract classes.  We use mixins to get around the fact that ECMAScript can have only one superclass. This makes it impossible to create classes with multiple parents, each of which adds a small piece of functionality to improve our code. By creating mixins we can create these smaller “library” classes and we can add them to our tools.</p>
<p>Any function with a superclass as input and a subclass extending that superclass as output can be used to implement mix-ins in ECMAScript. Below are some literal class expressions that create mixins:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">engineerrMixin</span> <span class="token operator">=</span> <span class="token parameter">Person</span> <span class="token operator">=></span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Person <span class="token punctuation">{</span>
  <span class="token function">affiliation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>  
  <span class="token function">language</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">programmerMixin</span> <span class="token operator">=</span> <span class="token parameter">Person</span> <span class="token operator">=></span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Person <span class="token punctuation">{</span>
  <span class="token function">editor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
  <span class="token function">platofrm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>A class that uses these mix-ins can then be written like this:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token keyword">extends</span> <span class="token class-name">engineerMixin</span><span class="token punctuation">(</span><span class="token function">ProgrammerMixin</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre>
<p>The code is a little hard to understand, particularly if you’re not familiar with how to extend a class with multiple mixin files.  What is says is that class <code>Employee</code> uses both <code>engineerrMixin</code> and <code>programmerMixing</code> with <code>Person</code> as the base class.  Whenever using <code>Employee</code> we have access to the methods of the base class <code>Person</code> the methods in both mixin classes (<code>engineerMixin</code> and <code>programmerMixin</code>) and any methods exclusive to <code>Employee</code>.</p>
<p>A fully realized <code>engineerMixin</code> could look like this:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> <span class="token function-variable function">engineerMixin</span> <span class="token operator">=</span> <span class="token parameter">Person</span> <span class="token operator">=></span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Person <span class="token punctuation">{</span>
  <span class="token function">affiliation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is in the </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>department<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> department</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">favoriteLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> favorite language is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>language<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>And then we can use the mixin by using when defining another subclass of Person. We get all the methods in the Person base class, all the methods of the engineer mixin and whatever methods we add to the Employee subclass.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token function">engineerMixin</span><span class="token punctuation">(</span>Person<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Define methods of employee here</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="notes%2C-caveats-and-potential-pitfalls">Notes, caveats and potential pitfalls</h2>
<p>I found several gotchas to consider when working with classes. Here are some of them:</p>
<h3 id="classes-do-not-hoist">Classes do not hoist</h3>
<p>When working with functions is ok to use a functions before it’s defined:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">drawRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">drawRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Definition goes here</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>In classes this will return a Reference Error as illustrated in the example below. The class must be defined before  it’s used either in the same file, an external file imported in to the class or in the same inline script.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Polygon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// This will produce: ReferenceError: Polygon is not defined</span>

<span class="token keyword">class</span> <span class="token class-name">Polygon</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre>
<p>To make it work define the class first then the definition will work.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Polygon</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// This will work as intended</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Polygon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre>
<h3 id="always-runs-on-strict-mode">Always runs on strict mode</h3>
<p>The bodies of class declarations and class expressions are executed in strict mode. This may introduce additional complications if you’re not familiar with strict mode in ES5.</p>
<p>Mozilla provides a good <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode">definition of strict mode</a> and a <a href="#">transition guide</a> from non-strict to strict mode</p>
<h1 id="custom-elements-v1">Custom Elements v1</h1>
<p>There’s a new version of custom elements going through the standards process, it is known as V1 to distinguish it  from the original version implemented in Chrome and familiar if you’ve used Polymer 1.x. before. Custom Elements and Shadow DOM V1 are the specs making it to browsers so it pays to learn it now and get up to speed before the specs and the libraries supporting them upgrade.</p>
<div class="message info">
All examples in this chapter will extend the basic <code>HTMLElement</code> interface. We do this for convenience and to provide a basic set of functionality for the <code>athena-card</code> components. 
<p>We can be more specific in what element definitions we extend. The <a href="https://html.spec.whatwg.org/multipage/indices.html#element-interfaces">full list of HTML element interfaces</a> is part of the HTML spec maintained by WHATWG.</p>
<p>For example our custom elements that behave like buttons could extend <code>HTMLButtonElement</code> instead of the basic <code>HTMLElement</code>. In the end all elements will inherit from <code>HTMLElement</code> but the more specialized interfaces defined in the specification can do more for your content than inheriting from the generic base interface.</p>
</div>
<h2 id="the-basics">The basics</h2>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">AthenaDiv</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// call HTMLElement constructor so we can take advantage</span>
      <span class="token comment">// of HTMLElement features</span>
      <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
  
    <span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        &lt;style>
          div.card {
            border: 5px solid red;
            display: inline-block;
            margin: 10px;
            padding: 10px;
            max-width: 300px;
            width: 100%;
          }
        &lt;/style>
  
        &lt;div class="card">
          &lt;h2>Default Title&lt;/h2>
        &lt;/div>
      </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Defines the athena-card element and </span>
<span class="token comment">// associates it with the AthenaDiv class</span>
window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'athena-card'</span><span class="token punctuation">,</span> AthenaDiv<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>You can use this element as is. Call it using the tag name we defined for it:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>athena-card</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>athena-card</span><span class="token punctuation">></span></span>
</code></pre>
<h2 id="defining-the-element-javascript-api">Defining the element Javascript API</h2>
<p>Once we decide what our element is what it will do we can build it’s API. Think of this API as a contract between the developer and user of the element about what the element can do and how it is configured to do it.</p>
<p>The API can take advantage of all the ES2015 class features. In the example below we add a getter and setter for a disabled property, a constructor and a hypothetical toggleDisplay property to toggle the element’s visibility.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">AthenaDiv</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
  <span class="token comment">// A getter/setter for a disabled property.</span>
  <span class="token keyword">get</span> <span class="token function">disabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hasAttribute</span><span class="token punctuation">(</span><span class="token string">'disabled'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">set</span> <span class="token function">disabled</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Reflect the value of the disabled property as an HTML attribute.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'disabled'</span><span class="token punctuation">,</span> <span class="token string">''</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">'disabled'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// Can define constructor arguments if you wish.</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// If you define a constructor, always call super() first!</span>
    <span class="token comment">// This is specific to Custom Elements and required by the spec.</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// Setup a click listener on &lt;athena-card> itself.</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// Don't toggle the card if it's disabled.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>disabled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toggleDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token function">toggleDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'toggled'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Defines the athena-card element and associates it with the AthenaDiv class</span>
window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'athena-card'</span><span class="token punctuation">,</span> AthenaDiv<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="reaction-callbacks">Reaction Callbacks</h3>
<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Called When</th>
        </tr>
    <thead>
    <tbody>
        <tr>
            <td>constructor</td>
            <td>An instance of the element is created or upgraded. <br/><br/>
            Useful for initializing state, settings up event listeners, or creating shadow dom. See the <a href="https://html.spec.whatwg.org/multipage/scripting.html#custom-element-conformance">spec</a> for restrictions on what you can do in the constructor.</td>
        </tr>
        <tr>
            <td>connectedCallback</td>
            <td>Called every time the element is inserted into the DOM.<br/><br/>
Useful for running setup code, such as fetching resources or rendering. Generally, you should try to delay work until this time</p></td>
        </tr>
        <tr>
            <td>disconnectedCallback</td>
            <td>Called every time the element is removed from the DOM.<br/><br/>
            Useful for running  clean up  code (removing event listeners, etc.).</td>
        </tr>
        <tr>
            <td>attributeChangedCallback(attrName, oldVal, newVal)</td>
            <td>An attribute was added, removed, updated, or replaced. <br/><br/>
            Also called for initial values when an element is created by the parser, or upgraded in place.<br/><br/>
            <strong>Note</strong>: only attributes listed in the <strong>observedAttributes</strong> property will receive this callback.</td>
        </tr>
        <tr>
            <td>adoptedCallback()</td>
            <td>The custom element has been moved into a new document (e.g. someone called document.adoptNode(el)).</td>
        </tr>
    </tbody>
</table>
<p>The browser calls the attributeChangedCallback() for any attributes whitelisted in the observedAttributes array (see Observing changes to attributes). Essentially, this is a performance optimization. When users change a common attribute like style or class, you don’t want to be spammed with tons of callbacks.</p>
<p>Reaction callbacks are synchronous. If someone calls el.setAttribute(…) on your element, the browser will immediately call attributeChangedCallback(). Similarly, you’ll receive a disconnectedCallback() right after your element is removed from the DOM (e.g. the user calls el.remove()).</p>
<h2 id="user-content">User content</h2>
<p>As good as custom elements are are not enough to convey both structure and content of our elements and applications.</p>
<p>We have three ways to add content to our custom elements:</p>
<ul>
<li>Child content</li>
<li>Content created in the Shadow DOM</li>
<li>Using slots for fun and profit</li>
<li>Content created in templates</li>
</ul>
<p>We’ll explore each of these  in turn.</p>
<h3 id="child-content">Child Content</h3>
<p>Custom elements can manage their own content by using the DOM APIs inside element code. Reactions come in handy for this. In this example we add HTML text to the element when it’s connected to the DOM</p>
<pre class="language-javascript"><code class="language-javascript">customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'athena-card-with-markup'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> HTMLElement <span class="token punctuation">{</span>
  <span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"&lt;strong>I'm an athena-card-with-markup!&lt;/strong>"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>This declaration will produce:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>athena-card-with-markup</span><span class="token punctuation">></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>I'm an athena-card-with-markup!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>athena-card-with-markup</span><span class="token punctuation">></span></span>
</code></pre>
<h3 id="shadow-dom">Shadow DOM</h3>
<p>Shadow DOM provides a way for an element (custom or not) to own, render, and style a chunk of DOM that’s separate from the rest of the page. This is how native elements such as video, audio, select hide all the elements they use to display the video natively.</p>
<p>Until custom elements and shadowDOM were introduced, hiding implementations this way was only possible for browser vendors</p>
<p>If we wanted to, we could hide an entire set of functionality inside a single tag:</p>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- athena-card's implementation details are hidden away in Shadow DOM. --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>athena-card</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>athena-card</span><span class="token punctuation">></span></span>
</code></pre>
<p>To use Shadow DOM in a custom element:</p>
<ol>
<li>Call <code>super()</code> as the first line inside the constructor</li>
<li>Call attachShadow (using <code>this.attachShadow</code>) inside your constructor</li>
<li>Inside the shadow root: Define your scoped styles</li>
<li>Inside the shadow root: Define any content you want the element to have</li>
<li>Inside the shadow root: Define any slots to assign content to</li>
</ol>
<pre class="language-javascript"><code class="language-javascript">customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'athena-card'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> HTMLElement <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                <span class="token comment">// 1</span>

    <span class="token comment">// Attach a shadow root to the element.</span>
    <span class="token keyword">const</span> shadowRoot <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>mode<span class="token operator">:</span> <span class="token string">'open'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span>
    shadowRoot<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
       &lt;style>:host { }&lt;/style>                            // 3
       &lt;strong>I'm in shadow dom!&lt;/strong>                 // 4
       &lt;slot>&lt;/slot></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>                                     <span class="token comment">// 5</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Using the definition of athena-card we’ve worked with in this section, the p element in the example below will replace the slot element and will be part of the athena-card element stamped to the DOM along with whatever styles we’ve added for the <code>:host</code> pseudo element.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>athena-card</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>User's<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span> custom text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>athena-card</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!-- renders as --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>athena-card</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>I'm in shadow dom!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">></span></span>User's<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">></span></span> custom text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>athena-card</span><span class="token punctuation">></span></span>
</code></pre>
<p>We’ll cover slots in more detail in the following section.</p>
<h3 id="slots-for-fun-and-profit">Slots for fun and profit</h3>
<p>In our previous examples we could merge content from our light DOM into the shadow DOM but it was a heavy handed approach that didn’t lend itself very well to composing elements and applications.</p>
<p>Composability is really big when working with web components. Custom Elements V1 gives us slots as a primitive to compose elements of the Light DOM (the DOM we use in our day to day HTML elements) into the Shadow DOM.</p>
<p>When using slots we can use named slots to match content in the light DOM or we can create generic slots (without names) that will work as pass through for elements in the light DOM that don’t have a named slot associated with them.</p>
<p>In the example below for <code>athena-card</code> we do the following tasks:</p>
<ol>
<li>We create the class <code>AthenaDiv</code> and extend <code>HTMLElement</code></li>
<li>In the <code>constructor</code> we call <code>super()</code> as required to use HTMLMElement</li>
<li>In the <code>connectedCallback</code> we attach the ShadowDom to the element using <code>this.attachShadow</code> and set its mode to <code>open</code></li>
<li>In the shadow root’s <code>innerHTML</code> we add the styles for our element</li>
<li>In the shadow root’s <code>innerHTML</code> we add  the layout of our element and default data that will be used when we enter no data in the light DOM</li>
<li>Define the custom element and associate it with the class we just created</li>
</ol>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">AthenaDiv</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>                             <span class="token comment">// 1</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// call HTMLElement constructor so we can take advantage</span>
      <span class="token comment">// of HTMLElement features</span>
      <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                                    <span class="token comment">// 2</span>
    <span class="token punctuation">}</span>
  
    <span class="token function">connectedCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> shadow <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>mode<span class="token operator">:</span> <span class="token string">'open'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 3</span>
      shadow<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">                                         
        &lt;style>                                                   // 4
          div.card {
            border: 5px solid red;
            display: inline-block;
            margin: 10px;
            padding: 10px;
            max-width: 300px;
            width: 100%;
          }
          
          ::slotted(h2) {
            text-align: center;
          }
          slotted(p) {
            font-size: 1.125em;
          }
        &lt;/style>
  
        &lt;div class="card">                                       // 5
          &lt;h2>&lt;slot name="card-header">Default Title&lt;/slot>&lt;/h2>
          &lt;p>&lt;slot name="card-body">Default content&lt;/slot>&lt;/p>
          &lt;p class="footer">
            Written by &lt;slot name="card-author">carlos&lt;/slot>
          &lt;/p>
          &lt;slot>&lt;/slot>
        &lt;/div>
      </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Defines the athena-card element and associates it with the AthenaDiv class</span>
window<span class="token punctuation">.</span>customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'athena-card'</span><span class="token punctuation">,</span> AthenaDiv<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 6</span>
</code></pre>
<p>The HTML examples below give three possible definitions of the <code>&lt;athena-card&gt;</code> component.</p>
<p>The first example is fully populated from the light DOM. We’ve given all the data and, using the <code>slot</code> attribute we’ve told the custom element how to compose the light and shadow DOM elements.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>athena-card</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Card Header<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-body<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  "Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium 
  doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore 
  veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim 
  ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia 
  consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt."

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-author<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://twitter.com/domfarolino<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>domfarolino<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>athena-card</span><span class="token punctuation">></span></span>
</code></pre>
<p>The second example uses a partial mix. The <code>card-header</code> and <code>card-body</code> attributes are taken from the light DOM. The <code>card-author</code> slot will be filled from the shadoDOM since the light side doesn’t provide a value for it.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>athena-card</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Another card<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-body<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  "Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium 
  doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore 
  veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim 
  ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia 
  consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt."

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-author<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>athena-card</span><span class="token punctuation">></span></span>
</code></pre>
<p>The final example is populated exclusively from the shadow DOM. The light side provides no data to compose so the shadow DOM takes over and uses the default values to populate the content.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>athena-card</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>athena-card</span><span class="token punctuation">></span></span>
</code></pre>
<h3 id="template-elements">Template elements</h3>
<p>For those unfamiliar, the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template">template</a> element allows you to declare fragments of DOM which are parsed, remain inert when a user loads the page, and can be activated later at runtime.</p>
<p>In the “not so distant future ™” we will be able to use templates everywhere; they are already supported in all major browsers (holdouts are IE 11, Opera Mini and UC browser for Android according to <a href="http://caniuse.com/#feat=template">caniuse.com</a>) without workarounds and strange uses of scripts and other strategies</p>
<p>The idea of using templates with custom elements is that we populate the template with the CSS and HTML we want to use and then insert that into the shadow DOM</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>athena-card-from-template<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> // 1
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"> <span class="token selector">// 2
    div.card</span> <span class="token punctuation">{</span>
      <span class="token property">border</span><span class="token punctuation">:</span> 5px solid red<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token property">max-width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">h2</span> <span class="token punctuation">{</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">p</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 1.125em<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> // 3
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-header<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Default Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-body<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Default content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>footer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      Written by <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-author<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>carlos<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> <span class="token comment">// 4</span>
customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'athena-card-from-template'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> HTMLElement <span class="token punctuation">{</span>
<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// always call super() first </span>
  <span class="token keyword">let</span> shadowRoot <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>mode<span class="token operator">:</span> <span class="token string">'open'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
  <span class="token keyword">const</span> t <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#athena-card-from-template'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>
  <span class="token keyword">const</span> instance <span class="token operator">=</span> t<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7</span>
  shadowRoot<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>athena-card-from-template</span><span class="token punctuation">></span></span>                                             // 9
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>card-header<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>Surprise<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>card-body<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>Even more surprises!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>athena-card-from-template</span><span class="token punctuation">></span></span>
</code></pre>
<p>The script does a lot and it’s not intuitive to understand. Let’s unpack it and see what it’s actually doing:</p>
<ol>
<li>We create a template and assign it an id of <code>athena-card-from-template</code></li>
<li>Inside the template assign the styles for the element</li>
<li>Inside the template build the layout for the element using slots for composition along with any default data</li>
<li>In the script associated with the element define the element and what class it extends. In this example we use an anonymous class to define the element</li>
<li>Create the shadow root using <code>this.attachShadow</code></li>
<li>Query the document for the template using <code>document.querySelector</code> and using the id of the template as a parameter</li>
<li>Clone the content of the template</li>
<li>Append the cloned content to the shadow root</li>
<li>Instantiate the element</li>
</ol>
<h2 id="reflecting-properties-to-attributes">Reflecting properties to attributes</h2>
<p>Whenever we set a value for an attribute of an HTML tag it is reflected back to the DOM representation of our  element. The most common I’ve seen is when assigning a <code>src</code> attribute to an image tag. In the example below we’ll  assign an <code>id</code> and <code>src</code> attributes to an image tag</p>
<p>For example, when the values of hidden or id are changed in JS:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">let</span> dinosaur01 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
dinosaur01<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'image001'</span><span class="token punctuation">;</span>
dinosaur01<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'images/image001.png'</span><span class="token punctuation">;</span>
</code></pre>
<p>the values are applied to the live DOM as attributes:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image001<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>images/image001.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</code></pre>
<p>This is called “reflecting properties to attributes”. Almost every property in HTML does this. Why? Attributes are also useful for configuring an element declaratively and certain APIs like accessibility and CSS selectors rely on attributes to work.</p>
<p>Reflecting a property is useful anywhere you want to keep the element’s DOM representation in sync with its JavaScript state. One reason you might want to reflect a property is so user-defined styling applies when JS state changes.</p>
<p>Recall our <code>&lt;athena-card&gt;</code>. A consumer of this component may want to dim it out and prevent user interaction when it’s dimmed:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">athena-card[dimmed]</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0.5<span class="token punctuation">;</span>
  <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>When the disabled property is changed in JS, we want that attribute to be added to the DOM so the user’s selector matches. The element can provide that behavior by reflecting the value to an attribute of the same name.</p>
<p>Using this setter/getter pair we can change and retrieve the value of the disabled attribute. We’ll discuss why this is important when we talk about observing changes to attributes.</p>
<h2 id="observing-changes-to-attributes">Observing changes to attributes</h2>
<p>HTML attributes are a convenient way for users to declare initial state for our components. In the example below, <code>athena-card</code> a <strong>dimmed</strong> to indicate whether the card is active or not.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>athena-card</span> <span class="token attr-name">dimmed</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>athena-card</span><span class="token punctuation">></span></span>
</code></pre>
<p>Elements can react to attribute changes by defining a attributeChangedCallback. The browser will call this method for every change to attributes listed in the observedAttributes array.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">AthenaDiv</span> <span class="token keyword">extends</span> <span class="token class-name">HTMLElement</span> <span class="token punctuation">{</span>
<span class="token operator">&lt;</span>template id<span class="token operator">=</span><span class="token string">"athena-card-from-template"</span><span class="token operator">></span>                               
  <span class="token operator">&lt;</span>style<span class="token operator">></span>                                                               
    <span class="token punctuation">.</span>card <span class="token punctuation">{</span>
      border<span class="token operator">:</span> <span class="token number">5</span>px solid red<span class="token punctuation">;</span>
      display<span class="token operator">:</span> inline<span class="token operator">-</span>block<span class="token punctuation">;</span>
      margin<span class="token operator">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
      padding<span class="token operator">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
      max<span class="token operator">-</span>width<span class="token operator">:</span> <span class="token number">300</span>px<span class="token punctuation">;</span>
      width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    h2 <span class="token punctuation">{</span>
      text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    p <span class="token punctuation">{</span>
      font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">1.125</span>em<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    
  <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span>
  
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card"</span><span class="token operator">></span>                                                    
    <span class="token operator">&lt;</span>h2<span class="token operator">></span><span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">"card-header"</span><span class="token operator">></span>Default Title<span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
    <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">"card-body"</span><span class="token operator">></span>Default content<span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"footer"</span><span class="token operator">></span>
      Written by <span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">"card-author"</span><span class="token operator">></span>carlos<span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
    <span class="token operator">&lt;</span>slot<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>  
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>

<span class="token operator">&lt;</span>script<span class="token operator">></span>                                                                
  customElements<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'athena-card-from-template'</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> HTMLElement <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// always call super() first </span>
      <span class="token keyword">let</span> shadowRoot <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attachShadow</span><span class="token punctuation">(</span><span class="token punctuation">{</span>mode<span class="token operator">:</span> <span class="token string">'open'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               
      <span class="token keyword">const</span> t <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#athena-card-from-template'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
      <span class="token keyword">const</span> instance <span class="token operator">=</span> t<span class="token punctuation">.</span>content<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       
      shadowRoot<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">observedAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">'dimmed'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">get</span> <span class="token function">dimmed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hasAttribute</span><span class="token punctuation">(</span><span class="token string">'dimmed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">set</span> <span class="token function">dimmed</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Reflect the value of `dimmed` as an attribute.</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'dimmed'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">'dimmed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  
  <span class="token function">attributeChangedCallback</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> oldValue<span class="token punctuation">,</span> newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dimmed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'tabindex'</span><span class="token punctuation">,</span> <span class="token string">'-1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'aria-disabled'</span><span class="token punctuation">,</span> <span class="token string">'true'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'tabindex'</span><span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'aria-disabled'</span><span class="token punctuation">,</span> <span class="token string">'false'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
  
  <span class="token operator">&lt;</span>athena<span class="token operator">-</span>card<span class="token operator">-</span>from<span class="token operator">-</span>template dimmed<span class="token operator">></span>                                             
    <span class="token operator">&lt;</span>h2 slot<span class="token operator">=</span><span class="token string">'card-header'</span><span class="token operator">></span>Surprise<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>

    <span class="token operator">&lt;</span>p slot<span class="token operator">=</span><span class="token string">'card-body'</span><span class="token operator">></span>Even more surprises<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>athena<span class="token operator">-</span>card<span class="token operator">-</span>from<span class="token operator">-</span>template<span class="token operator">></span>
</code></pre>
<p>In the example, we’re setting additional attributes on <code>&lt;athena-card&gt;</code> when we add or remove the dimmed attribute. We also change accessibility attributes to make sure it works as intended for assistive technology. Depending on your application you may want to add additional attributes using the same formula shown for <code>tab-index</code> and <code>aria-disabled</code>.</p>
<p>If the attribute is not listed in our <code>ObservedAttributes</code> array the attributeChangedCallback event will not fire.</p>
<h1 id="styling-custom-elements">Styling custom elements</h1>
<p>Even if your element defines its own styling using Shadow DOM, users can style your custom element from their page.  These are called “user-defined styles”.</p>
<pre class="language-html"><code class="language-html"><span class="token comment">&lt;!-- user-defined styling --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector">athena-card</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
  <span class="token selector">panel-item</span> <span class="token punctuation">{</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> opacity 400ms ease-in-out<span class="token punctuation">;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0.3<span class="token punctuation">;</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">panel-item:hover</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1.0<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 255<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>athena-card</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>panel-item</span><span class="token punctuation">></span></span>Do<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>panel-item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>panel-item</span><span class="token punctuation">></span></span>Re<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>panel-item</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>panel-item</span><span class="token punctuation">></span></span>Mi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>panel-item</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>athena-card</span><span class="token punctuation">></span></span>
</code></pre>
<p>You might be asking yourself how CSS specificity works if the element has styles defined within Shadow DOM. In terms of specificity, user styles win. They’ll always override element-defined styling. See the section on Creating an element that uses Shadow DOM.</p>
<h1 id="loading-custom-elements%3A-html-imports">Loading custom elements: HTML Imports</h1>
<p>One of the most contentious aspects of web components is how to load them.</p>
<p>HTML Imports has made it into two browsers (Chrome and Opera) and 2 browsers (<a href="https://hacks.mozilla.org/2014/12/mozilla-and-web-components/">Firefox</a> and <a href="https://webkit.org/status/#feature-html-imports">Safari</a>) will not support it until ES6 Modules are implemented in browsers so they can evaluate whether modules will work for importing custom elements into applications.</p>
<p>At its simplest, HTML Imports add a new value for the <code>rel</code> attribute of the <code>link</code> tag.</p>
<p>If the file <code>athena-card.html</code> contains a custom element then we can use the following link to import it into our document.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>athena-card.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 
</code></pre>
<p>By declaring <code>rel=&quot;import&quot;</code> and providing a reference to a URL containing a web component we can import the component, and all the data inside it, to use locally on our application.</p>
<h2 id="bundling-libraries-with-imports">Bundling libraries with imports</h2>
<p>One of the biggest pains when using libraries like <a href="http://getbootstrap.com/">Bootstrap</a> or <a href="http://foundation.zurb.com/">Foundation</a> is the number of files we have to download and how hard it is to customize. Using a single HTML import we can bundle the content from Bootstrap into a single download</p>
<p>The content of the imported file may look something like this:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bootstrap.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>fonts.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jquery.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bootstrap.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bootstrap-tooltip.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bootstrap-dropdown.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!-- scaffolding markup --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
</code></pre>
<p>and be called</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bootstrap.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
</code></pre>
<h2 id="using-part-of-an-imported-file">Using part of an imported file</h2>
<p>content of warning.html</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>warning<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
    <span class="token selector">h3</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> red <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>Warning!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>This page is under construction<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>outdated<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>Heads up!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>This content may be out of date<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
</code></pre>
<p>importing <code>warning.html</code> and a way to use portions of the imported file</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>warnings.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  ...
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'link[rel="import"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> content <span class="token operator">=</span> link<span class="token punctuation">.</span>import<span class="token punctuation">;</span>

    <span class="token comment">// Grab DOM from warning.html's document.</span>
    <span class="token keyword">var</span> el <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.warning'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>el<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
</code></pre>
<h2 id="components">Components</h2>
<p>import.html</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Hello World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- Img is not requested until the &lt;template> goes live. --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>world.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Executed when the template is activated."</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
</code></pre>
<p>index.html</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>import.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> link <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'link[rel="import"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Clone the &lt;template> in the import.</span>
    <span class="token keyword">var</span> template <span class="token operator">=</span> link<span class="token punctuation">.</span>import<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'template'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> clone <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">importNode</span><span class="token punctuation">(</span>template<span class="token punctuation">.</span>content<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#container'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>clone<span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
</code></pre>
<h2 id="sub-imports">Sub-imports</h2>
<p>It can be useful for one import to include another. For example, if you want to reuse or extend another component, use an import to load the other element(s).</p>
<p>Below is a real example from Polymer. It’s a new tab component (<paper-tabs>) that reuses a layout and selector component. The dependencies are managed using HTML Imports.</p>
<p>paper-tabs.html (simplified):</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>iron-selector.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>classes/iron-flex-layout.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dom-module</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>paper-tabs<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iron-selector</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>layout horizontal center<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>content</span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>content</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iron-selector</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dom-module</span><span class="token punctuation">></span></span>

</code></pre>
<p>App developers can import this new element using:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>paper-tabs.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paper-tabs</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paper-tabs</span><span class="token punctuation">></span></span>

</code></pre>
<p>When a new, more awesome <iron-selector2> comes along in the future, you can swap out <iron-selector> and start using it straight away. You won’t break your users thanks to imports and web components.</p>
<h2 id="success-and-error-handling">Success and error handling</h2>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">handleLoad</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Loaded import: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">handleError</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Error loading import: '</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>import<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file.html<span class="token punctuation">"</span></span>
      <span class="token special-attr"><span class="token attr-name">onload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">handleLoad</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span> <span class="token special-attr"><span class="token attr-name">onerror</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">handleError</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
</code></pre>
<h2 id="deduplication">Deduplication</h2>
<h1 id="polyfills-and-testing-for-support">Polyfills and testing for support</h1>
<p>This set of technologies requires ES2015/ES6 and fairly modern browsers.  The level of support will depend on the browser you need to support with your application.</p>
<h2 id="custom-elements">Custom elements</h2>
<p>There is a <a href="https://github.com/webcomponents/custom-elements/blob/master/custom-elements.min.js">polyfill</a> available.</p>
<h2 id="shadow-dom-1">Shadow DOM</h2>
<p>the <a href="https://github.com/webcomponents/shadydom">shadydom</a> and <a href="https://github.com/webcomponents/shadycss">shadycss</a> polyfills give you v1 feature. Shady DOM mimics the DOM scoping of Shadow DOM and shadycss polyfills CSS custom properties and the style scoping the native API provides.</p>
<h2 id="html-imports">HTML Imports</h2>
<p>There is a <a href="https://github.com/webcomponents/html-imports">polyfill</a> for HTML Imports. This is labeled as <strong>work in progress</strong> in the repository so use at your own risk.</p>
<h2 id="html-templates">HTML Templates</h2>
<p>Templates are supported across major browsers so we don’t need a polyfill.</p>
<h2 id="using-the-polyfills">Using the polyfills</h2>
<p>To use the polyfills we need to import them using <a href="https://bower.io/">Bower</a> like this:</p>
<pre class="language-bash"><code class="language-bash">bower <span class="token function">install</span> --save https://github.com/webcomponents/html-imports.git
bower <span class="token function">install</span> --save webcomponents/custom-elements
bower <span class="token function">install</span> --save webcomponents/shadydom webcomponents/shadycss
</code></pre>
<p>For the HTML Imports polyfill we’re installing directly from Github because I couldn’t find a package int he Bower search engine.</p>
<p>We then create constants to test if Custom Elements and Shadow DOM.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">supportImports</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'import'</span> <span class="token keyword">in</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'link'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">supportsCustomElementsV1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'customElements'</span> <span class="token keyword">in</span> window<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">supportsShadowDOMV1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token class-name">HTMLElement</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>attachShadow<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>We could create one constant that tests all the elements, something like so</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> supportStyledElements <span class="token operator">=</span> <span class="token function">supportImports</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token operator">&amp;&amp;</span> <span class="token function">supportsCustomElementsV1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token operator">&amp;&amp;</span> <span class="token function">supportsShadowDOMV1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>But it makes it harder to work when a browser support one specification but not the other, so we’ll stick to the two separate constants.</p>
<p>We then define a script loader function that returns a promise that will resolve when the polyfill loads and reject if it doesn’t.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   script<span class="token punctuation">.</span>async <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
   script<span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span>
   script<span class="token punctuation">.</span>onload <span class="token operator">=</span> resolve<span class="token punctuation">;</span>
   script<span class="token punctuation">.</span>onerror <span class="token operator">=</span> reject<span class="token punctuation">;</span>
   document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Finally we use our loadScript function to lazy load the polyfills if needed. We first test if the browser supports the feature; if it does we log it to console and are done. If it doesn’t then we load the script or scripts and log the result to console as well.  We can then proceed with the instantiation and use of the components.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>supportsImports<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'browser supports imports natively'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'bower_components/html-imports/html-imports.min.js'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'HTML Imports polyfill loaded successfully'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Error loading polyfill'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>supportsCustomElementsV1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Native support for custom elements. Good to go'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'/bower_components/custom-elements/custom-elements.min.js'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Custom ELements Polyfill loaded successfully'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Error loading polyfill'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Lazy load the polyfill if necessary.</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>supportsShadowDOMV1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Native support for shadow DOM. Good to go'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'/bower_components/shadydom/shadydom.min.js'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=></span> <span class="token function">loadScript</span><span class="token punctuation">(</span><span class="token string">'/bower_components/shadycss/shadycss.min.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Custom Elements Polyfill loaded successfully'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>    
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Error loading polyfill'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h1 id="links-and-resources">Links and resources</h1>
<ul>
<li>ES6 Classes, how they work and how we extend them
<ul>
<li>Links and resources
<ol>
<li><a href="https://hacks.mozilla.org/2015/07/es6-in-depth-classes/">ES6 Classes in depth</a> - MDN</li>
<li><a href="https://ponyfoo.com/articles/es6-classes-in-depth">ES6 Classes in depth</a> - Ponyfoo</li>
<li><a href="http://justinfagnani.com/2015/12/21/real-mixins-with-javascript-classes/">“Real” Mixins with JavaScript Classes</a> - Justin Fagnani</li>
<li><a href="https://developers.google.com/web/fundamentals/getting-started/primers/customelements?hl=en">Custom Elements v1: Reusable Web Components</a> - Eric Bidelman</li>
<li><a href="https://developers.google.com/web/fundamentals/getting-started/primers/shadowdom">Shadow DOM v1: Self-Contained Web Components</a> - Eric Bidelman</li>
<li><a href="https://gist.github.com/ebidel/36fb1bd8cc53c89243ed1e53f2da2eaa">&lt;card-swiper&gt; custom element</a></li>
<li><a href="https://gist.github.com/ebidel/2d2bb0cdec3f2a16cf519dbaa791ce1b">Fancy tabs web component - shadow dom v1, custom elements v1, full a11y</a>- Eric Bidelman</li>
<li><a href="https://www.w3.org/TR/custom-elements/">Custom Elements Specification</a>
<ul>
<li><a href="https://www.w3.org/TR/custom-elements/#custom-elements-autonomous-example">Autonomous example</a></li>
<li><a href="https://www.w3.org/TR/custom-elements/#custom-elements-customized-builtin-example">Customized builtin example</a></li>
<li><a href="https://www.w3.org/TR/custom-elements/#custom-elements-autonomous-drawbacks">Drawbacks of autonomous custom elements</a></li>
</ul>
</li>
<li><a href="https://www.w3.org/TR/shadow-dom/">Shadow DOM Specification</a> <strong>Note that this specification has part that are being upstreamed to other specs (DOM and HTML). As such its usefulness as a research and learning tool is limited</strong></li>
</ol>
</li>
<li><a href="http://hayato.io/2016/shadowdomv1/">Shadow DOM examples for v0 and v1</a></li>
<li><a href="https://webkit.org/blog/4096/introducing-shadow-dom-api/">WebKit announcement on Slot-based ShadowDOM</a></li>
</ul>
</li>
</ul>

</article>
<!--
</div> -->
<script src="scripts/lazy-load.js"></script>
<script src="scripts/vendor/clipboard.min.js"></script>
<script src="scripts/vendor/prism.js"></script>
<script src="scripts/vendor/fontfaceobserver.js"></script>
<script src="scripts/load-fonts.js"></script>
<script src="scripts/lazy-load-video.js"></script>
</body>
</html>