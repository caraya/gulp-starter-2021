<html lang="en" dir="ltr" class="no-js lazy">

<head>
  <!--<link rel="stylesheet" href="ccs/github.css">-->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/image-load.css">
  <link rel="stylesheet" href="css/video-load.css">
  <link rel="stylesheet" href="css/prism.css">
  <!-- <script async src="scripts/menu.js"></script> -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <title></title>
</head>

<body>
<article class="container">
  <p><a id="markdown-globalizing-web-content" name="globalizing-web-content"></a></p>
<h1 id="globalizing-web-content">Globalizing Web Content</h1>
<!-- TOC -->
<ul>
<li><a href="#globalizing-web-content">Globalizing Web Content</a>
<ul>
<li><a href="#difference-between-l10n-and-i18n">Difference between l10n and i18n</a></li>
<li><a href="#what-type-of-internationalization-can-we-automate">What type of internationalization can we automate?</a></li>
<li><a href="#quick-and-dirty-js-template-string-literals">Quick and Dirty: JS Template String Literals</a></li>
<li><a href="#messages-gender--and-plural-capable-messages">Messages: Gender- and plural-capable messages</a></li>
<li><a href="#the-big-guns-globalize">The big guns: Globalize</a>
<ul>
<li><a href="#npm">NPM</a></li>
<li><a href="#adding-webpack-to-the-mix">Adding Webpack to the mix</a></li>
</ul>
</li>
<li><a href="#caching-localization-assets-with-service-workers">Caching localization assets with service workers</a></li>
<li><a href="#handling-content-for-multiple-languages">Handling content for multiple languages</a></li>
<li><a href="#links-and-resources">Links and Resources</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<p>I’ve always been interested in internationalization (i18n) and localization (l10n) and how they relate to the web. My interest got picked again when I started wondering how much extra work would it be to keep a site or app in multiple languages and how much time and how many additional resources I’d need to get it done.</p>
<p>This goes beyond translating the content; tools like Google Translate make that part easier than it used to be but also the changes and modifications that we need to do to our code to acomodate for the different languages and cultures we want to deploy our application in.</p>
<p><a id="markdown-difference-between-l10n-and-i18n" name="difference-between-l10n-and-i18n"></a></p>
<h2 id="difference-between-l10n-and-i18n">Difference between l10n and i18n</h2>
<p>Before we can jump in and talk about localizing web content and the challenges involved we need to understand the difference between localization (l10n for the 10 letters between l and n in the word localization in English) and Intenationalization (i18n for the 18 letters between i an n in the word internationalization in English)</p>
<p><strong>Localization</strong></p>
<p>Localization refers to the adaptation of a product, application or document content to meet the language, cultural and other requirements of a specific target market (a locale).</p>
<p>Often thought of as a synonym for translation of the user interface and documentation, localization is often a much more complex issue. It can entail customization related to:</p>
<ul>
<li>Numeric, date and time formats</li>
<li>Use of currency</li>
<li>Keyboard usage</li>
<li>Collation and sorting of content</li>
<li>Symbols, icons and colors</li>
<li>Text and graphics containing references to objects, actions or ideas which, in a given culture, may be subject to misinterpretation or viewed as insensitive</li>
<li>Varying legal requirements</li>
</ul>
<p>and potentially other aspects of our applications.</p>
<p>Localization may even require a comprehensive rethinking of logic, visual design, or presentation if the way of doing business (eg., accounting) or the accepted paradigm for learning (eg., focus on individual vs. group) in a given locale differs substantially from the originating culture.</p>
<p><strong>Internationalization</strong></p>
<p>Definitions of internationalization consty. This is a high-level working definition for use with W3C Internationalization Activity material. Some people use other terms, such as globalization to refer to the same concept.</p>
<p>Internationalization is the design and development of a product, application or document content that enables easy localization for target audiences that consty in culture, region, or language.</p>
<p>Internationalization typically entails:</p>
<ol>
<li>Designing and developing in a way that removes barriers to localization or international deployment. This includes activities like enabling the use of Unicode, or ensuring the proper handling of legacy character encodings (where appropriate), taking care over the concatenation of strings, decoupling the backend code from the UI text, etc</li>
<li>Providing support for features that may not be used until localization occurs. For example, adding markup or CSS code to support bidirectional text, or for identifying language, or adding to CSS support for vertical text or other non-Latin typographic features.</li>
<li>Enabling code to support local, regional, language, or culturally related preferences. Typically this involves incorporating predefined localization data and features derived from existing libraries or user preferences. Examples include date and time formats, local calendars, number formats and numeral systems, sorting and presentation of lists, handling of personal names and forms of address, etc.</li>
<li>Separating localizable elements from source code or content, such that localized alternatives can be loaded or selected based on the user’s international preferences as needed.</li>
<li>Notice that these items do not necessarily include the localization of the content, application, or product into another language; they are design and development practices which allow such a migration to take place easily in the future but which may have significant utility even if no localization ever takes place.</li>
</ol>
<p><a id="markdown-what-type-of-internationalization-can-we-automate" name="what-type-of-internationalization-can-we-automate"></a></p>
<h2 id="what-type-of-internationalization-can-we-automate%3F">What type of internationalization can we automate?</h2>
<aside class="message info">
  <p>The following sections on automating i18n work with templating (mustache and similar) or other ways to programmatically generate content.</p>
</aside>
<p>For the most part we automate UI internationalization and localize only those aspects of the user interface that will change when we change the language we use.  Note that this will work in applications and sites that generate HTML from Javascript.</p>
<p>Depending on the tools we use we may be further limited in what we can and cannot localize programmatically, particularly content other than UI.</p>
<p><a id="markdown-quick-and-dirty-js-template-string-literals" name="quick-and-dirty-js-template-string-literals"></a></p>
<h2 id="quick-and-dirty%3A-js-template-string-literals">Quick and Dirty: JS Template String Literals</h2>
<aside class="message info">
  <p>This is a quick recap of an <a href="http://publishing-project.rivendellweb.net/js-template-literals/">earlier post</a> that described Javascript Template String Literals and one way to use them to provide content translation.</p>
</aside>
<p>Andrea Giamarchi wrote an article: “<a href="https://codeburst.io/easy-i18n-in-10-lines-of-javascript-poc-eb9e5444d71e">Easy i18n in 10 lines of JavaScript (PoC)</a>” that provides an idea of how to do translation using template literals. This code has been further developed in a <a href="https://github.com/WebReflection/i18n-utils">Github Repo</a>.</p>
<p>See the article in <a href="http://publishing-project.rivendellweb.net/js-template-literals/">my blog</a> and Andrea’s post for more information.</p>
<p><a id="markdown-messages-gender--and-plural-capable-messages" name="messages-gender--and-plural-capable-messages"></a></p>
<h2 id="messages%3A-gender--and-plural-capable-messages">Messages: Gender- and plural-capable messages</h2>
<p>The next step is to use <a href="https://messageformat.github.io/">Messages</a>. We use the library to separate your code from your text formatting, while enabling much more humane expressions. This library will eliminate the following from your UI:</p>
<ul>
<li>There are 1 results.</li>
<li>There are 1 result(s).</li>
<li>Number of results: 5.</li>
</ul>
<p>The installation process is just like any other application:</p>
<pre class="command-line language-bash" data-user="elrond25" data-host="rivendell"><code>npm --save install messageformat</code></pre>
<p>Once it’s installed we require it like any other in a Node application.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> MessageFormat <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'messageformat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>We then build the message we want to display to our users. In this case we build a messsage with three rules:</p>
<ul>
<li>A gender (GENDER) rule with values for male, female and other</li>
<li>A Resource (RES) rule with values for no results, (exactly) 1 result and more than one result</li>
<li>A Catergory (rule) with ordinal values for one, two, third and other categories</li>
</ul>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> msg <span class="token operator">=</span>
  <span class="token string">'{GENDER, select, male{He} female{She} other{They} }'</span> <span class="token operator">+</span>
  <span class="token string">' found '</span> <span class="token operator">+</span>
  <span class="token string">'{RES, plural, =0{no results} one{1 result} other{# results} }'</span> <span class="token operator">+</span>
  <span class="token string">' in the '</span> <span class="token operator">+</span>
  <span class="token string">'{CAT, selectordinal, one{#st} two{#nd} few{#rd} other{#th} }'</span> <span class="token operator">+</span>
  <span class="token string">' category.'</span><span class="token punctuation">;</span>
</code></pre>
<p>The last step is to compile the rules and use it as needed. The compilation makes it possible to use the different combinations of the values defined in our message variables.</p>
<p>Using the compiled message we build using <code>mfunc</code> and the values for the categories that we created when we defined the message.  The examples below show how the different combinations of messages.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Compiles the messages and formats.</span>
<span class="token keyword">const</span> mfunc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageFormat</span><span class="token punctuation">(</span><span class="token string">'en'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mfunc</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token constant">GENDER</span><span class="token operator">:</span> <span class="token string">'male'</span><span class="token punctuation">,</span> <span class="token constant">RES</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">CAT</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'He found 1 result in the 2nd category.'</span>

<span class="token function">mfunc</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token constant">GENDER</span><span class="token operator">:</span> <span class="token string">'female'</span><span class="token punctuation">,</span> <span class="token constant">RES</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">CAT</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'She found 1 result in the 2nd category.'</span>

<span class="token function">mfunc</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token constant">GENDER</span><span class="token operator">:</span> <span class="token string">'male'</span><span class="token punctuation">,</span> <span class="token constant">RES</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token constant">CAT</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'He found 2 results in the 1st category.'</span>

<span class="token function">mfunc</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token constant">RES</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token constant">CAT</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 'They found 2 results in the 2nd category.'</span>
</code></pre>
<p>For more information on how to use the formating capabilities of Messageformat, check the <a href="https://messageformat.github.io/guide/">Format Guide</a> particularly the sections where it gives instructions for what values to use in what situation.</p>
<p><a id="markdown-the-big-guns-globalize" name="the-big-guns-globalize"></a></p>
<h2 id="the-big-guns%3A-globalize">The big guns: Globalize</h2>
<p>GLobalize is the heavy gun in the i18n world. It’ll automate most of the i18n work and integrate ICU and CLDR into one application.</p>
<div class="youtube-player" data-id="T8xcBcCn9fs"></div>
<!-- <div class="video">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/T8xcBcCn9fs?rel=0" frameborder="0" allowfullscreen></iframe>
</div> -->
<div class="youtube-player" data-id="h3p8cGOZ8CU"></div>
<!-- <div class="video">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/h3p8cGOZ8CU?rel=0" frameborder="0" allowfullscreen></iframe>
</div> -->
<pre class="command-line language-bash" data-user="elrond25" data-host="rivendell"><code>npm install --save globalize </code></pre>
<p>or build from the <a href="https://github.com/globalizejs/">Github development branch</a></p>
<pre class="command-line language-bash" data-user="elrond25" data-host="rivendell"><code>git clone https://github.com/globalizejs/globalize.git
bower install && npm install
grunt</code></pre>
<aside class="message warning">
  <p>If you choose to build globalize from source please make sure you run Bower install command before NPM. It took me a while to figure out that this was causing installation errors when building from GIT source.</p>
  <p>Depending on your needs it may be better to start with a pre-built distribution of the libraries.</p>
</aside>
<p>Globalize makes heavy use of the CLDR data set and, in the examples below, the installation process through NPM will take care of installing the CLDR data. To illustrate how this works we’ll look at two examples from the Globalize repository, one running NPM to create text-based responses and one using NPM and WebPack to generate bundles for each of our target languages.</p>
<p><a id="markdown-npm" name="npm"></a></p>
<h3 id="npm">NPM</h3>
<p>The first example we’ll look at it is a Node based app that will output all the results to the console.  The <code>package.json</code> file, as with any Node-based project, tells NPM what packages and versions to install.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
  <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"globalize-hello-world-node-npm"</span><span class="token punctuation">,</span>
  <span class="token string">"private"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"cldr-data"</span><span class="token operator">:</span> <span class="token string">"latest"</span><span class="token punctuation">,</span>
    <span class="token string">"globalize"</span><span class="token operator">:</span> <span class="token string">"^1.3.0"</span><span class="token punctuation">,</span>
    <span class="token string">"iana-tz-data"</span><span class="token operator">:</span> <span class="token string">">=2017.0.0"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"cldr-data-urls-filter"</span><span class="token operator">:</span> <span class="token string">"(core|dates|numbers|units)"</span>
<span class="token punctuation">}</span>
</code></pre>
<p><code>main.js</code> has all the code that will load and run Globalize tools. I’ ve commented the code to illustrate what it does.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> Globalize <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"globalize"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> like<span class="token punctuation">;</span>

<span class="token comment">// Before we can use Globalize, we need to feed it on</span>
<span class="token comment">// the appropriate I18n content (Unicode CLDR).</span>
Globalize<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>
	<span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"cldr-data/main/en/ca-gregorian"</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"cldr-data/main/en/currencies"</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"cldr-data/main/en/dateFields"</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"cldr-data/main/en/numbers"</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"cldr-data/main/en/timeZoneNames"</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"cldr-data/main/en/units"</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"cldr-data/supplemental/currencyData"</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"cldr-data/supplemental/likelySubtags"</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"cldr-data/supplemental/metaZones"</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"cldr-data/supplemental/plurals"</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"cldr-data/supplemental/timeData"</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"cldr-data/supplemental/weekData"</span> <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Load messages for our default language</span>
Globalize<span class="token punctuation">.</span><span class="token function">loadMessages</span><span class="token punctuation">(</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"./messages/en"</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Load time zone data</span>
Globalize<span class="token punctuation">.</span><span class="token function">loadTimeZone</span><span class="token punctuation">(</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"iana-tz-data"</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Set "en" as our default locale.</span>
Globalize<span class="token punctuation">.</span><span class="token function">locale</span><span class="token punctuation">(</span> <span class="token string">"en"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Use Globalize to format dates.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> Globalize<span class="token punctuation">.</span><span class="token function">formatDate</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> datetime<span class="token operator">:</span> <span class="token string">"medium"</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Use Globalize to format dates in specific time zones.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> Globalize<span class="token punctuation">.</span><span class="token function">formatDate</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	datetime<span class="token operator">:</span> <span class="token string">"full"</span><span class="token punctuation">,</span>
	timeZone<span class="token operator">:</span> <span class="token string">"America/Sao_Paulo"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Use Globalize to format dates to parts.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> Globalize<span class="token punctuation">.</span><span class="token function">formatDateToParts</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> datetime<span class="token operator">:</span> <span class="token string">"medium"</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Use Globalize to format numbers.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> Globalize<span class="token punctuation">.</span><span class="token function">formatNumber</span><span class="token punctuation">(</span> <span class="token number">12345.6789</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Use Globalize to format currencies.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> Globalize<span class="token punctuation">.</span><span class="token function">formatCurrency</span><span class="token punctuation">(</span> <span class="token number">69900</span><span class="token punctuation">,</span> <span class="token string">"USD"</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Use Globalize to get the plural form of a numeric value.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> Globalize<span class="token punctuation">.</span><span class="token function">plural</span><span class="token punctuation">(</span> <span class="token number">12345.6789</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Use Globalize to format a message with plural inflection.</span>
like <span class="token operator">=</span> Globalize<span class="token punctuation">.</span><span class="token function">messageFormatter</span><span class="token punctuation">(</span> <span class="token string">"like"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">like</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Be the first to like this</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">like</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// You liked this</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">like</span><span class="token punctuation">(</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// You and someone else liked this</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">like</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// You and 2 others liked this</span>

<span class="token comment">// Use Globalize to format relative time.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> Globalize<span class="token punctuation">.</span><span class="token function">formatRelativeTime</span><span class="token punctuation">(</span> <span class="token operator">-</span><span class="token number">35</span><span class="token punctuation">,</span> <span class="token string">"second"</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Use Globalize to format unit.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> Globalize<span class="token punctuation">.</span><span class="token function">formatUnit</span><span class="token punctuation">(</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token string">"mile/hour"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> form<span class="token operator">:</span> <span class="token string">"short"</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Run the program from a terminal by running <code>node main.js</code>.</p>
<p><a id="markdown-adding-webpack-to-the-mix" name="adding-webpack-to-the-mix"></a></p>
<h3 id="adding-webpack-to-the-mix">Adding Webpack to the mix</h3>
<p>The second example is more complex and uses Globalize, the CLDR data files, IANA timezone data and Webpack specific tools, including a custom <code>globalize-webpack-plugin</code>.</p>
<p>The first component is the <code>package.json</code> file that will tell NPM what packkes and versions to install and what commands to run. If you’re familiar with Webpack  the commands in the script commands should look familiar.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
  <span class="token string">"private"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"cldr-data"</span><span class="token operator">:</span> <span class="token string">">=25"</span><span class="token punctuation">,</span>
    <span class="token string">"globalize"</span><span class="token operator">:</span> <span class="token string">"^1.3.0"</span><span class="token punctuation">,</span>
    <span class="token string">"globalize-webpack-plugin"</span><span class="token operator">:</span> <span class="token string">"0.4.x"</span><span class="token punctuation">,</span>
    <span class="token string">"html-webpack-plugin"</span><span class="token operator">:</span> <span class="token string">"^1.1.0"</span><span class="token punctuation">,</span>
    <span class="token string">"iana-tz-data"</span><span class="token operator">:</span> <span class="token string">"^2017.1.0"</span><span class="token punctuation">,</span>
    <span class="token string">"nopt"</span><span class="token operator">:</span> <span class="token string">"^3.0.3"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack"</span><span class="token operator">:</span> <span class="token string">"^1.9.0"</span><span class="token punctuation">,</span>
    <span class="token string">"webpack-dev-server"</span><span class="token operator">:</span> <span class="token string">"^1.9.0"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">"start"</span><span class="token operator">:</span> <span class="token string">"webpack-dev-server --config webpack-config.js \
    --hot --progress --colors --inline"</span><span class="token punctuation">,</span>
    <span class="token string">"build"</span><span class="token operator">:</span> <span class="token string">"webpack --production --config webpack-config.js"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">"cldr-data-urls-filter"</span><span class="token operator">:</span> <span class="token string">"(core|dates|numbers|units)"</span>
<span class="token punctuation">}</span>
</code></pre>
<p><code>webpack-config.js</code> build the Webpack side of the equation. It requires the packages needed, configures Webpack and specifies the bunldes to build:</p>
<ol>
<li><code>vendor</code>, which holds Globalize Runtime modules and other third party libraries</li>
<li><code>i18n precompiled data</code>, which means the minimum yet sufficient set of precompiled i18n data that your application needs (one file for each supported locale)</li>
<li><code>app</code>, which means your application code. Also note that all the production code is already minified using UglifyJS.</li>
</ol>
<p>The configuration uses <strong><a href="https://github.com/jantimon/html-webpack-plugin">html-webpack-plugin</a></strong> to populate links and names for our HTML template file (discussed later) and <strong><a href="https://github.com/rxaviers/globalize-webpack-plugin">globalize-webpack-plugin</a></strong> to handle generating the Globalize bundles.</p>
<p>In a later section we’ll add another plugin to this Webpack configuration. You can also add more to it based on your build system requirements.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"webpack"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> CommonsChunkPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"webpack/lib/optimize/CommonsChunkPlugin"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"html-webpack-plugin"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> GlobalizePlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"globalize-webpack-plugin"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> nopt <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"nopt"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token function">nopt</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  production<span class="token operator">:</span> Boolean
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> options<span class="token punctuation">.</span>production <span class="token operator">?</span>  <span class="token punctuation">{</span>
    main<span class="token operator">:</span> <span class="token string">"./app/index.js"</span><span class="token punctuation">,</span>
    vendor<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"globalize"</span><span class="token punctuation">,</span>
      <span class="token string">"globalize/dist/globalize-runtime/number"</span><span class="token punctuation">,</span>
      <span class="token string">"globalize/dist/globalize-runtime/currency"</span><span class="token punctuation">,</span>
      <span class="token string">"globalize/dist/globalize-runtime/date"</span><span class="token punctuation">,</span>
      <span class="token string">"globalize/dist/globalize-runtime/message"</span><span class="token punctuation">,</span>
      <span class="token string">"globalize/dist/globalize-runtime/plural"</span><span class="token punctuation">,</span>
      <span class="token string">"globalize/dist/globalize-runtime/relative-time"</span><span class="token punctuation">,</span>
      <span class="token string">"globalize/dist/globalize-runtime/unit"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token string">"./app/index.js"</span><span class="token punctuation">,</span>
  debug<span class="token operator">:</span> <span class="token operator">!</span>options<span class="token punctuation">.</span>production<span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> options<span class="token punctuation">.</span>production <span class="token operator">?</span> <span class="token string">"./dist"</span> <span class="token operator">:</span> <span class="token string">"./tmp"</span><span class="token punctuation">,</span>
    publicPath<span class="token operator">:</span> options<span class="token punctuation">.</span>production <span class="token operator">?</span> <span class="token string">""</span> <span class="token operator">:</span> <span class="token string">"http://localhost:8080/"</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> options<span class="token punctuation">.</span>production <span class="token operator">?</span> <span class="token string">"app.[hash].js"</span> <span class="token operator">:</span> <span class="token string">"app.js"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">".js"</span> <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      production<span class="token operator">:</span> options<span class="token punctuation">.</span>production<span class="token punctuation">,</span>
      template<span class="token operator">:</span> <span class="token string">"./index-template.html"</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">GlobalizePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      production<span class="token operator">:</span> options<span class="token punctuation">.</span>production<span class="token punctuation">,</span>
      developmentLocale<span class="token operator">:</span> <span class="token string">"en"</span><span class="token punctuation">,</span>
      supportedLocales<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"ar"</span><span class="token punctuation">,</span> <span class="token string">"de"</span><span class="token punctuation">,</span> <span class="token string">"en"</span><span class="token punctuation">,</span> <span class="token string">"es"</span><span class="token punctuation">,</span> <span class="token string">"pt"</span><span class="token punctuation">,</span> <span class="token string">"ru"</span><span class="token punctuation">,</span> <span class="token string">"zh"</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
      messages<span class="token operator">:</span> <span class="token string">"messages/[locale].json"</span><span class="token punctuation">,</span>
      output<span class="token operator">:</span> <span class="token string">"i18n/[locale].[hash].js"</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span> options<span class="token punctuation">.</span>production <span class="token operator">?</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>DedupePlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CommonsChunkPlugin</span><span class="token punctuation">(</span> <span class="token string">"vendor"</span><span class="token punctuation">,</span> <span class="token string">"vendor.[hash].js"</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      compress<span class="token operator">:</span> <span class="token punctuation">{</span>
        warnings<span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p><code>index.js</code> runs the globalization tasks that we want the user to see. THis is a contrived example meant to exercise the llibrary and show what it can do. That said it gives you an idea of the power of GLobalize and what we can use it for.</p>
<p>This looks like a prime use of ES6 String Literals to make them easier to read and reason through. A lot of it will depend on your target browsers and what your team is comfortable with.</p>
<p>These tasks work on the localization tasks for our application. We’re capable of changing all the localized elements in the page by only changing the locale we are working with. We can also change the language programmatically based on user interaction.</p>
<p>The first two examples work with number formatting, one for numbers (where the locale indicates how to format decimals and number separators) and one for currency.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> Globalize <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"globalize"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> startTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Standalone table.</span>
<span class="token keyword">var</span> numberFormatter <span class="token operator">=</span> Globalize<span class="token punctuation">.</span><span class="token function">numberFormatter</span><span class="token punctuation">(</span><span class="token punctuation">{</span> maximumFractionDigits<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"number"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token function">numberFormatter</span><span class="token punctuation">(</span> <span class="token number">12345.6789</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> currencyFormatter <span class="token operator">=</span> Globalize<span class="token punctuation">.</span><span class="token function">currencyFormatter</span><span class="token punctuation">(</span> <span class="token string">"USD"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"currency"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token function">currencyFormatter</span><span class="token punctuation">(</span> <span class="token number">69900</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Dates are more complicated. The first example formats a date using the default formatting rules for the locale we are using.</p>
<p>The second data example uses an array to indicate the format for the date (<code>datetime</code>) and a full IANA time zone like <code>America/Sao_Paulo</code> or <code>America/Los_Angeles</code>) to indicate the offset to use and the name of the Time Zone that corresponds to the location. It then uses the array we created to display the date.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> dateFormatter <span class="token operator">=</span> Globalize<span class="token punctuation">.</span><span class="token function">dateFormatter</span><span class="token punctuation">(</span><span class="token punctuation">{</span> datetime<span class="token operator">:</span> <span class="token string">"medium"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"date"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token function">dateFormatter</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> dateWithTimeZoneFormatter <span class="token operator">=</span> Globalize<span class="token punctuation">.</span><span class="token function">dateFormatter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	datetime<span class="token operator">:</span> <span class="token string">"full"</span><span class="token punctuation">,</span>
	timeZone<span class="token operator">:</span> <span class="token string">"America/Sao_Paulo"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"date-time-zone"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
  <span class="token function">dateWithTimeZoneFormatter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Another way to parse dates according to locale is to break it into its constituent parts. In this example we break it down into parts and, for illustrative purposes, it makes the month part bold.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> _dateToPartsFormatter <span class="token operator">=</span>
  Globalize<span class="token punctuation">.</span><span class="token function">dateToPartsFormatter</span><span class="token punctuation">(</span><span class="token punctuation">{</span> datetime<span class="token operator">:</span> <span class="token string">"medium"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">dateToPartsFormatter</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">_dateToPartsFormatter</span><span class="token punctuation">(</span> value<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    datetime<span class="token operator">:</span> <span class="token string">"medium"</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">part</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>part<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">"month"</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">"&lt;strong>"</span> <span class="token operator">+</span> part<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token string">"&lt;/strong>"</span><span class="token punctuation">;</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">return</span> part<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">memo<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> memo <span class="token operator">+</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"date-to-parts"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span>
  <span class="token function">dateToPartsFormatter</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Next we test relative time formatting (<code>10 minutes ago</code> type) and unit type (<code>60 MPH</code>) type formatting.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> relativeTimeFormatter <span class="token operator">=</span> Globalize<span class="token punctuation">.</span><span class="token function">relativeTimeFormatter</span><span class="token punctuation">(</span> <span class="token string">"second"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"relative-time"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
  <span class="token function">relativeTimeFormatter</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> unitFormatter <span class="token operator">=</span> Globalize<span class="token punctuation">.</span><span class="token function">unitFormatter</span><span class="token punctuation">(</span> <span class="token string">"mile/hour"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> form<span class="token operator">:</span> <span class="token string">"short"</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"unit"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
  <span class="token function">unitFormatter</span><span class="token punctuation">(</span> <span class="token number">60</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<aside class="message info">
  <p>The variables in the section below have been cut for formatting. Each <code>document.getElementById</code> and <code>Globalize.formatMessage</code> should be in the same line.</p>
</aside>
<p>These examples work with <code>formatMessage</code> for different strings. These will be used and localized in the HTML file described in the next section</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Messages.</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"intro-1"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
 Globalize<span class="token punctuation">.</span><span class="token function">formatMessage</span><span class="token punctuation">(</span> <span class="token string">"intro-1"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"number-label"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
 Globalize<span class="token punctuation">.</span><span class="token function">formatMessage</span><span class="token punctuation">(</span> <span class="token string">"number-label"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"currency-label"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
 Globalize<span class="token punctuation">.</span><span class="token function">formatMessage</span><span class="token punctuation">(</span> <span class="token string">"currency-label"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"date-label"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
 Globalize<span class="token punctuation">.</span><span class="token function">formatMessage</span><span class="token punctuation">(</span> <span class="token string">"date-label"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"date-time-zone-label"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
 Globalize<span class="token punctuation">.</span><span class="token function">formatMessage</span><span class="token punctuation">(</span> <span class="token string">"date-time-zone-label"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"date-to-parts-label"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
 Globalize<span class="token punctuation">.</span><span class="token function">formatMessage</span><span class="token punctuation">(</span> <span class="token string">"date-to-parts-label"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"relative-time-label"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
 Globalize<span class="token punctuation">.</span><span class="token function">formatMessage</span><span class="token punctuation">(</span> <span class="token string">"relative-time-label"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"unit-label"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
 Globalize<span class="token punctuation">.</span><span class="token function">formatMessage</span><span class="token punctuation">(</span> <span class="token string">"unit-label"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"message-1"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
 Globalize<span class="token punctuation">.</span><span class="token function">formatMessage</span><span class="token punctuation">(</span> <span class="token string">"message-1"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    currency<span class="token operator">:</span> <span class="token function">currencyFormatter</span><span class="token punctuation">(</span> <span class="token number">69900</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    date<span class="token operator">:</span> <span class="token function">dateFormatter</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    number<span class="token operator">:</span> <span class="token function">numberFormatter</span><span class="token punctuation">(</span> <span class="token number">12345.6789</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    relativeTime<span class="token operator">:</span> <span class="token function">relativeTimeFormatter</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    unit<span class="token operator">:</span> <span class="token function">unitFormatter</span><span class="token punctuation">(</span> <span class="token number">60</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"message-2"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
  Globalize<span class="token punctuation">.</span><span class="token function">formatMessage</span><span class="token punctuation">(</span> <span class="token string">"message-2"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	  count<span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Display demo.</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"requirements"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"demo"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span>
</code></pre>
<p>The final bin in the script is a timing function that will update the valies in the timer once every 1000 milliseconds.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token comment">// Refresh elapsed time</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> elapsedTime <span class="token operator">=</span> <span class="token operator">+</span><span class="token punctuation">(</span> <span class="token punctuation">(</span> startTime <span class="token operator">-</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"date"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
    <span class="token function">dateFormatter</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"date-time-zone"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
    <span class="token function">dateWithTimeZoneFormatter</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"date-to-parts"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span>
    <span class="token function">dateToPartsFormatter</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"relative-time"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
    <span class="token function">relativeTimeFormatter</span><span class="token punctuation">(</span> elapsedTime <span class="token punctuation">)</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> <span class="token string">"message-1"</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span>
    Globalize<span class="token punctuation">.</span><span class="token function">formatMessage</span><span class="token punctuation">(</span> <span class="token string">"message-1"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      currency<span class="token operator">:</span> <span class="token function">currencyFormatter</span><span class="token punctuation">(</span> <span class="token number">69900</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
      date<span class="token operator">:</span> <span class="token function">dateFormatter</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
      number<span class="token operator">:</span> <span class="token function">numberFormatter</span><span class="token punctuation">(</span> <span class="token number">12345.6789</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
      relativeTime<span class="token operator">:</span> <span class="token function">relativeTimeFormatter</span><span class="token punctuation">(</span> elapsedTime <span class="token punctuation">)</span><span class="token punctuation">,</span>
      unit<span class="token operator">:</span> <span class="token function">unitFormatter</span><span class="token punctuation">(</span> <span class="token number">60</span> <span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>The final piece is the HTML documebnt that will hold all the localized messages generated during the build process and also links to the Webpack generated bundles as well.</p>
<pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token name">doctype</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Globalize App example using Webpack<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Globalize App example using Webpack<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>requirements<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Requirements<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Read README.md for instructions on how to run the demo.
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> none</span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>intro-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Use Globalize to internationalize your application.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">marginBottom</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number-label<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Standalone Number<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currency-label<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Standalone Currency<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currency<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>date-label<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Standalone Date<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>date-time-zone-label<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Standalone Date
          (in a specific IANA time zone, e.g.,
          America/Los_Angeles)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>date-time-zone<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>date-to-parts-label<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Standalone Date (note the highlighted month, the markup was added using formatDateToParts)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>date-to-parts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>relative-time-label<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Standalone Relative Time<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>relative-time<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>unit-label<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Standalone Unit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>unit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>"<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message-1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>An example of a message using mixed number "{number}", currency "{currency}", date "{date}", relative time "{relativeTime}", and unit "{unit}".
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
		An example of a message with pluralization support:
		{count, plural,
			one {You have one remaining task}
			other {You have # remaining tasks}
		}.
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
{%
var hasShownLocaleHelp;
for ( var chunk in o.htmlWebpackPlugin.files.chunks ) {
  if ( /globalize-compiled-data-/.test( chunk ) &amp;&amp;
    chunk !== "globalize-compiled-data-en" ) {
    if ( !hasShownLocaleHelp ) {
      hasShownLocaleHelp = true;
%}
<span class="token comment">&lt;!--
Load support for the `en` (English) locale.
For displaying the application in a different locale, replace `en` with
whatever other supported locale you want, e.g., `pt` (Portuguese).
For supporting additional locales simultaneously and then having your
application to change it dynamically, load the multiple files here. Then,
use `Globalize.locale( &lt;locale> )` in your application to dynamically set
it.
--></span>
{%		} %}
<span class="token comment">&lt;!-- &lt;script src="{%=o.htmlWebpackPlugin.files.chunks[chunk].entry %}">&lt;/script> --></span>
{%	} else { %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{%=o.htmlWebpackPlugin.files.chunks[chunk].entry %}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
{%
	}
}
%}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
<p><a id="markdown-caching-localization-assets-with-service-workers" name="caching-localization-assets-with-service-workers"></a></p>
<h2 id="caching-localization-assets-with-service-workers">Caching localization assets with service workers</h2>
<p>Since we’ve already used Webpack to build ouyr localization assets it’s easy to use <a href="https://developers.google.com/web/tools/workbox/">Workbox.js</a> to precache assets using a service worker.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"webpack"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CommonsChunkPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"webpack/lib/optimize/CommonsChunkPlugin"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"html-webpack-plugin"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> GlobalizePlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"globalize-webpack-plugin"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nopt <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">"nopt"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> workboxPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'workbox-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">DIST_DIR</span> <span class="token operator">=</span> <span class="token string">'dist'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token function">nopt</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  production<span class="token operator">:</span> Boolean
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> options<span class="token punctuation">.</span>production <span class="token operator">?</span>  <span class="token punctuation">{</span>
    main<span class="token operator">:</span> <span class="token string">"./app/index.js"</span><span class="token punctuation">,</span>
    vendor<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"globalize"</span><span class="token punctuation">,</span>
      <span class="token string">"globalize/dist/globalize-runtime/number"</span><span class="token punctuation">,</span>
      <span class="token string">"globalize/dist/globalize-runtime/currency"</span><span class="token punctuation">,</span>
      <span class="token string">"globalize/dist/globalize-runtime/date"</span><span class="token punctuation">,</span>
      <span class="token string">"globalize/dist/globalize-runtime/message"</span><span class="token punctuation">,</span>
      <span class="token string">"globalize/dist/globalize-runtime/plural"</span><span class="token punctuation">,</span>
      <span class="token string">"globalize/dist/globalize-runtime/relative-time"</span><span class="token punctuation">,</span>
      <span class="token string">"globalize/dist/globalize-runtime/unit"</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token string">"./app/index.js"</span><span class="token punctuation">,</span>
  debug<span class="token operator">:</span> <span class="token operator">!</span>options<span class="token punctuation">.</span>production<span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> options<span class="token punctuation">.</span>production <span class="token operator">?</span> <span class="token string">"./dist"</span> <span class="token operator">:</span> <span class="token string">"./tmp"</span><span class="token punctuation">,</span>
    publicPath<span class="token operator">:</span> options<span class="token punctuation">.</span>production <span class="token operator">?</span> <span class="token string">""</span> <span class="token operator">:</span> <span class="token string">"http://localhost:8080/"</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> options<span class="token punctuation">.</span>production <span class="token operator">?</span> <span class="token string">"app.[hash].js"</span> <span class="token operator">:</span> <span class="token string">"app.js"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">".js"</span> <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      production<span class="token operator">:</span> options<span class="token punctuation">.</span>production<span class="token punctuation">,</span>
      template<span class="token operator">:</span> <span class="token string">"./index-template.html"</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">GlobalizePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      production<span class="token operator">:</span> options<span class="token punctuation">.</span>production<span class="token punctuation">,</span>
      developmentLocale<span class="token operator">:</span> <span class="token string">"en"</span><span class="token punctuation">,</span>
      supportedLocales<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"ar"</span><span class="token punctuation">,</span> <span class="token string">"de"</span><span class="token punctuation">,</span> <span class="token string">"en"</span><span class="token punctuation">,</span> <span class="token string">"es"</span><span class="token punctuation">,</span> <span class="token string">"pt"</span><span class="token punctuation">,</span> <span class="token string">"ru"</span><span class="token punctuation">,</span> <span class="token string">"zh"</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
      messages<span class="token operator">:</span> <span class="token string">"messages/[locale].json"</span><span class="token punctuation">,</span>
      output<span class="token operator">:</span> <span class="token string">"i18n/[locale].[hash].js"</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>DedupePlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CommonsChunkPlugin</span><span class="token punctuation">(</span> <span class="token string">"vendor"</span><span class="token punctuation">,</span> <span class="token string">"vendor.[hash].js"</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      compress<span class="token operator">:</span> <span class="token punctuation">{</span>
        warnings<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">new</span> <span class="token class-name">workboxPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      globDirectory<span class="token operator">:</span> dist<span class="token punctuation">,</span>
      globPatterns<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'**/*.{html,css,js}'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      swDest<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dist<span class="token punctuation">,</span> <span class="token string">'sw.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      clientsClaim<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      skipWaiting<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Because Workbox will cache all the assets for our application we want to make sure it’s the last plugin to run as part of the build process. Otherwise we may not get the assets we’ve processed in the way we want them.</p>
<p>Also, because we’re caching assets in the service worker cache we’ve elmiminated the concatenation step; this way if we make changes we only invalidate single files rather than entire bundles.</p>
<p>If you serve your content with HTTP2 it may work better if you serve smaller files rather than a few big ones.</p>
<p>Last detail. If you want finer control over what assets get precached, adjust thge values in the <code>globPatterns</code> attribute of the <code>workboxPlugin</code> to match what you need to cache.</p>
<p><a id="markdown-handling-content-for-multiple-languages" name="handling-content-for-multiple-languages"></a></p>
<h2 id="handling-content-for-multiple-languages">Handling content for multiple languages</h2>
<p>The Google Search Console Help article: <a href="https://support.google.com/webmasters/answer/182192?hl=en">Multi-regional and multilingual sites</a> defines multilingual and multi-regional websites as follows:</p>
<p>A <strong>multilingual website</strong> is any website that offers content in more than one language. Examples of multilingual websites might include a Canadian business with an English and a French version of its site, or a blog on Latin American soccer available in both Spanish and Portuguese.</p>
<p>A <strong>multi-regional</strong> website is one that explicitly targets users in different countries. Some sites are both multi-regional and multilingual (for example, a site might have different versions for the USA and for Canada, and both French and English versions of the Canadian content).</p>
<p>They go on to explain support strategies for both sites and how to best leverage your content and Google’s crawler to serve multiple languages.</p>
<p><a id="markdown-links-and-resources" name="links-and-resources"></a></p>
<h2 id="links-and-resources">Links and Resources</h2>
<ul>
<li>Globalize
<ul>
<li><a href="https://github.com/globalizejs/globalize">Github Repo</a></li>
<li><a href="http://cldr.unicode.org/">http://cldr.unicode.org/</a></li>
<li><a href="http://site.icu-project.org/">http://site.icu-project.org/</a></li>
</ul>
</li>
<li>Messageformat
<ul>
<li><a href="https://messageformat.github.io/">Github Repo</a></li>
</ul>
</li>
<li><a href="https://developers.google.com/international/">Google Internationalization (i18n)</a></li>
<li>Noto Fonts
<ul>
<li><a href="https://www.google.com/get/noto/">Noto Fonts Download</a></li>
<li><a href="https://github.com/googlei18n/noto-fonts">Github Repository</a></li>
<li><a href="https://www.google.com/get/noto/help/guidelines/">Guidelines for Using Noto</a></li>
</ul>
</li>
<li><a href="https://blog.mozilla.org/l10n/2011/12/14/i18n-vs-l10n-whats-the-diff/">i18n vs l10n — what’s the diff?</a></li>
<li><a href="https://www.w3.org/International">W3C i18n Activity</a></li>
</ul>

</article>
<!--
</div> -->
<script src="scripts/lazy-load.js"></script>
<script src="scripts/vendor/clipboard.min.js"></script>
<script src="scripts/vendor/prism.js"></script>
<script src="scripts/vendor/fontfaceobserver.js"></script>
<script src="scripts/load-fonts.js"></script>
<script src="scripts/lazy-load-video.js"></script>
</body>
</html>