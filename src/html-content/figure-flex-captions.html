<h1 id="using-figures-and-flexbox-to-align-captions" tabindex="-1">Using figures and flexbox to align captions</h1>
<p>As I learn how to be more flexible in working with art direction for web content, I’m documenting some of the cool things I’ve learned.</p>
<p>Because I’m using flexbox, I’m relying on CSS Trick’s <a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/">A Complete Guide to Flexbox</a> to reference the Flexbox aspects fo the elements.</p>
<h2 id="figures-as-flex-containers" tabindex="-1">Figures as flex containers</h2>
<p>If we make a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/figure">figure</a> into a flex container we gain a lot flexibility in how we place captions around the image.</p>
<p>This is the image that we’ll play with.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>highlight<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Pablo Neruda<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> Facts<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figure</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
    <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.nobelprize.org/images/neruda-13228-portrait-medium.jpg<span class="token punctuation">"</span></span>
    <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Pablo Neruda Portrait<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>figcaption</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Pablo Neruda, original name Neftalí Ricardo Reyes Basoalto, (born July 12, 1904, Parral, Chile <span class="token entity named-entity" title="&mdash;">&amp;mdash;</span> died September 23, 1973, Santiago), Chilean poet, diplomat, and politician who was awarded the Nobel Prize for Literature in 1971. He was perhaps the most important Latin American poet of the 20th century.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figcaption</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>figure</span><span class="token punctuation">></span></span>
</code></pre>
<p>This is the basic CSS that will place both the image and the captiono in a row, the caption aligned to the top of the image.</p>
<p>We define the image as being 30vw (viewport width units) wide and having no margin at the bottom of the image.</p>
<p>We add a deep red bar on the left side of the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/figcaption">figcaption</a> element. The caption is placed at the top, flushed with the image.</p>
<p>We also make the caption 25vw wide as an initial value that we can play with it later.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">figure</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-flow</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> flex-start<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">img</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 30vw<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">figcaption</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> flex-start<span class="token punctuation">;</span>
  <span class="token property">border-left</span><span class="token punctuation">:</span> 1em solid <span class="token function">rgb</span><span class="token punctuation">(</span>169<span class="token punctuation">,</span> 13<span class="token punctuation">,</span> 94<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">padding-left</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 25vw<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>You can see the result of this initial test in <a href="https://codepen.io/caraya/pen/YzzXVqJ">this pen</a></p>
<h2 id="vertical-caption-alignment" tabindex="-1">Vertical caption alignment</h2>
<p>One of the first changes that I want to experiment with is changing the vertical placement of the caption to the side of the image.</p>
<p>We modify the style for the <code>figcaption</code> element to tell it where we want to place the caption relative to the image.</p>
<p>All we need to do is change the <code>align-self</code> attribute in the <code>figcaption</code> element. The code below will align the caption to the bottom of the image.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">figcaption</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span>
  <span class="token property">border-left</span><span class="token punctuation">:</span> 1em solid <span class="token function">rgb</span><span class="token punctuation">(</span>169<span class="token punctuation">,</span> 13<span class="token punctuation">,</span> 94<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">padding-left</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 25vw<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>This pen illustrates <a href="https://codepen.io/caraya/pen/YzzXVqJ">aligning to the bottom of the image</a></p>
<p>We can also center the caption related to the image by changing the <code>align-self</code> selector to centeer instead of <code>flex-start</code> or <code>flex-end</code>.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">figcaption</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">border-left</span><span class="token punctuation">:</span> 1em solid <span class="token function">rgb</span><span class="token punctuation">(</span>169<span class="token punctuation">,</span> 13<span class="token punctuation">,</span> 94<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">padding-left</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 25vw<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>This pen <a href="https://codepen.io/caraya/pen/gOOpWoV?editors=1100">shows vertical centering</a></p>
<h2 id="moving-captios-to-the-left-of-the-image" tabindex="-1">Moving captios to the left of the image</h2>
<p>Moving the caption to the left of the image helps with balancing the flow of text or just to make the images loook different by playing with the captions in way the reader might not expect.</p>
<p>To move the caption we have to change the <code>flex-flow</code> attribute to reverse the order in which the objects appear on screen.</p>
<p>In the <code>figure</code> element we set the <code>flex-flow</code> to <code>row-reverse</code> meaning that the browser will display the content from right to left. Since the image is the first element in document order it will appear to the right with the caption to the left.</p>
<p>We must remember that because we flipped the order of the items we also have to change the way we justify the content, in this case to <code>flex-end</code> if we want the figure to stay on the left side of the screen.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">figure</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-flow</span><span class="token punctuation">:</span> row-reverse<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>We also to change the <code>border-</code>, <code>padding-</code>, and <code>margin-</code> to right, moving the bar and the space between the bar and the captioon to the right side.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">figcaption</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span>
  <span class="token property">border-right</span><span class="token punctuation">:</span> 1em solid <span class="token function">rgb</span><span class="token punctuation">(</span>169<span class="token punctuation">,</span> 13<span class="token punctuation">,</span> 94<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">padding-right</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 25vw<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The tricks for vertical alignment work on the right side to.</p>
<p>The example pen <a href="https://codepen.io/caraya/pen/RwwPOBQ?editors=1100">is here</a></p>
<h2 id="captions-above-or-below-the-image" tabindex="-1">Captions above or below the image</h2>
<p>Changing the value of <code>flex-flow</code> we can place the caption above or below the image. The example below puts the caption text below the image.</p>
<p>The figure now flows vertically using <code>flex-flow: column</code> and has an explicit width that is as wide as the image inside.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">figure</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-flow</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 30vw<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>We control the alignment of the caption element using the <code>align-self</code> attribute. In this case the caption is left aligned.</p>
<p>We can add borders to highlight the caption. In the example we added the same border at the top and bottom.</p>
<p>Controlling the width of the caption and the font size gives us a little more control over what we can do with the caption, as shown in this <a href="https://codepen.io/caraya/pen/mddeLKq">example Codepen</a></p>
<pre class="language-css"><code class="language-css"><span class="token selector">figcaption</span> <span class="token punctuation">{</span>
  <span class="token property">align-self</span><span class="token punctuation">:</span> flex-start<span class="token punctuation">;</span>
  <span class="token property">border-top</span><span class="token punctuation">:</span> 2px solid <span class="token function">rgb</span><span class="token punctuation">(</span>169<span class="token punctuation">,</span> 13<span class="token punctuation">,</span> 94<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 2px solid <span class="token function">rgb</span><span class="token punctuation">(</span>169<span class="token punctuation">,</span> 13<span class="token punctuation">,</span> 94<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 80%<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 20vw<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>To place the caption above the image we need to make a single change; use <code>flex-flow: column-reverse</code> in the figure styles.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">figure</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-flow</span><span class="token punctuation">:</span> column-reverse<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 30vw<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In the <a href="https://codepen.io/caraya/pen/eYYpPoR?editors=1100">example pen</a> you may want to adjust the bottom margin to create some space between the caption border/line and the image.</p>
