<h1 id="using-javascript-to-manipulate-the-dom">Using Javascript to manipulate the DOM</h1>
<p>JavaScript gives us multiple ways to insert content into the DOM. One generic and simple way and a more flexible and complicated alternative.</p>
<h2 id="inserting-new-elements%3A-the-simple-version">Inserting new elements: The simple version</h2>
<p>The simple way to insert content into an existing element is to use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild"><code>appendChild</code></a> to insert the element after the existing children of the specified element</p>
<p>We're using the following HTML element as the host of our new element.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
</code></pre>
<p>In the JavaScript we capture the container element in a variable and then create a button element.</p>
<p>Next we assign attributes to the button we just created. An <code>id</code> and the text that will becoe the label of the button using <code>innerHTML</code>.</p>
<p>Finally we attach the button element to the container div using <code>appendChild</code>.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"container"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

button<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">"clicky"</span><span class="token punctuation">;</span>
button<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"Click Me"</span><span class="token punctuation">;</span>

container<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>you can’t currently add an attribute to the element when it's created; you must use <code>setAttribute</code> or similar method elsewhere on the script</li>
<li>You may think about adding an <code>id</code> attribute to the element, but it’s unlikely that you need to do so. You already have a reference to the element when you create it.
<ul>
<li>Only reason why you may need an id or class is if you'll reference the element from a separate script</li>
</ul>
</li>
<li>Once you add the element to the page, it will follow all the rules you apply via CSS, either a stylesheet, or Javascript</li>
</ul>
<p>See the following pages on MDN for additional methods to manipulate DOM nodes.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/removeChild">Node.removeChild()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/replaceChild">Node.replaceChild()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/insertBefore">Node.insertBefore()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/ParentNode/append">ParentNode.append()</a></li>
</ul>
<h2 id="placing-new-elements%3A-insertadjacenthtml">Placing new elements: insertAdjacentHTML</h2>
<p>One disadvantage of appending the child to an existing document is that you don't have a way to choose where the child element is placed.</p>
<p><code>insertAdjacentHTML</code> takes care of this. It takes two parameters: a position string and a string represting the element we want to position at the given location.</p>
<p>The position parameter can be:</p>
<ul>
<li><strong>beforebegin</strong>: Before the element itself.</li>
<li><strong>afterbegin</strong>: Just inside the element, before its first child.</li>
<li><strong>beforeend</strong>: Just inside the element, after its last child.</li>
<li><strong>afterend</strong>: After the element itself.</li>
</ul>
<p>So <code>inserAdjacentHTML</code> gives us the flexibility of putting content where we need it inside the existing elements of the page so we are safe when inserting content into exsiting elements.</p>
<p>The following pen illustrates how the four different values work:</p>
<p>&lt;iframe height=&quot;300&quot; style=&quot;width: 100%;&quot; scrolling=&quot;no&quot; title=&quot;Insert Adjacent HTML&quot; src=&quot;//codepen.io/caraya/embed/preview/VNVpww/?height=300&amp;theme-id=2039&amp;default-tab=result&quot; frameborder=&quot;no&quot; allowtransparency=&quot;true&quot; allowfullscreen=&quot;true&quot;&gt;
See the Pen &lt;a href='https://codepen.io/caraya/pen/VNVpww/'&gt;Insert Adjacent HTML&lt;/a&gt; by Carlos Araya
(&lt;a href='https://codepen.io/caraya'&gt;@caraya&lt;/a&gt;) on &lt;a href='https://codepen.io'&gt;CodePen&lt;/a&gt;.
&lt;/iframe&gt;</p>
<p>So we've looked at different ways to insert HTML in an existing document using both <code>appendChild</code> and <code>insertAdjacentHTMLL</code> and discussed what they do different. Which one works best will depend on your usecase and how you've structure the document and the script that adds to it.</p>
