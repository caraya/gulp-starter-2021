<h1 id="%40wordpress%2Fenv-development-environment">@wordpress/env development environment</h1>
<p><a href="wordpress-env-development-environment">@wordpress/env</a> allows you to create a development environment for your WordPress plugin or theme. It addresses the following use case:</p>
<p><em><strong>You want to test your theme or plugin without installing it on a live site, whether development or production.</strong></em></p>
<p><code>@wordpress/env</code> requires Docker to be installed on your machine.There are instructions available for installing Docker on <a href="https://docs.docker.com/docker-for-windows/install/">Windows 10 Pro</a>, <a href="https://docs.docker.com/toolbox/toolbox_install_windows/">all other versions of Windows</a>, <a href="https://docs.docker.com/docker-for-mac/install/">macOS</a>, and <a href="https://docs.docker.com/v17.12/install/linux/docker-ce/ubuntu/#install-using-the-convenience-script">Linux</a>.</p>
<h2 id="installing-%40wordpress%2Fenv">Installing @wordpress/env</h2>
<p>Iâ€™ve chosen to install the package globally rather than as a project dependency to make it easier to use accross multiple projects.</p>
<p>The install command looks like this:</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token parameter variable">-g</span> i @wordpress/env
</code></pre>
<h2 id="running-%40wordpress%2Fenv">Running @wordpress/env</h2>
<p>Ensure that Docker is installed and running on your machine, then switch to the directory for your plugin or theme and run the following command:</p>
<pre class="language-bash"><code class="language-bash">wp-env start
</code></pre>
<p>This will start a Docker container with the WordPress environment (MySQL and WordPress) ready to run and your plugin or theme installed and configured for you.</p>
<p>Navigate to <a href="http://localhost:8888">http://localhost:8888</a> to see the site. Go to <a href="http://localhost:8888/wp-admin">http://localhost:8888/wp-admin</a> to log in as the administrator. The default credentials are:</p>
<ul>
<li>username: <code>admin</code></li>
<li>password: <code>password</code></li>
</ul>
<h3 id="running-in-a-different-port">Running in a different port</h3>
<p><code>wp-env</code> uses port 8888 by default. You can configure the port that wp-env uses by specifying the <code>WP_ENV_PORT</code> environment variable when starting wp-env:</p>
<pre class="language-bash"><code class="language-bash"><span class="token assign-left variable">WP_ENV_PORT</span><span class="token operator">=</span><span class="token number">3000</span> wp-env start
</code></pre>
<h2 id="checking-what-resources-are-being-used">Checking what resources are being used</h2>
<p>If youâ€™re curious, you can check what resources wp-env is using by running this command from a terminal:</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">docker</span> <span class="token function">ps</span>
</code></pre>
<h2 id="stopping-%40wordpress%2Fenv">Stopping @wordpress/env</h2>
<p>When youâ€™re done, you can stop the Docker container by running:</p>
<pre class="language-bash"><code class="language-bash">wp-env stop
</code></pre>
<p>This will stop any container started with <code>wp-env start</code> but will keep them around so you wonâ€™t loose any work.</p>
<h2 id="remove-all-content-and-start-over">Remove all content and start over</h2>
<p>There may be times when you donâ€™t want to keep the work you have so far. You can remove all the content youâ€™ve added to the WordPress environment by running:</p>
<pre class="language-bash"><code class="language-bash">wp-env clean all
wp-env start
</code></pre>
<p>Again be aware that the clean all command <strong>will permanently delete any posts, pages, media, etc. in the local WordPress installation.</strong></p>
<h2 id="the-nuclear-option-%F0%9F%94%A5">The nuclear option ðŸ”¥</h2>
<p>When all else fails, you can use wp-env destroy to forcibly remove all of the underlying Docker containers and volumes. This will allow you to start from scratch.</p>
<p>To nuke everything run the following command:</p>
<pre class="language-bash"><code class="language-bash">wp-env destroy
</code></pre>
<p>You can start over if you want with <code>wp-env start</code></p>
<p><em><strong>This will permanently delete any posts, pages, media, etc. in the local WordPress installation. It will also nuke any configuration changes you made to the system. Use it as a last resort!</strong></em></p>
<p>There are more options available to <code>wp-env</code>. Check the packageâ€™s <a href="https://www.npmjs.com/package/@wordpress/env">Readme</a> for more information</p>
