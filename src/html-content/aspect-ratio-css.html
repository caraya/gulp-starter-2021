<h1>Aspect Ratio in CSS</h1>
<p>Aspect ratio is the ration between an item’s width to height.</p>
<p>In HTML some elements have an aspect ratio as part of the Browser’s built-in stylesheet so we’re OK. That is why you can do this in CSS:</p>
<pre><code class="language-css">img {
  width: 100%;
  height: auto;
}
</code></pre>
<p>Or</p>
<pre><code class="language-css">img {
  width: 50vw;
}
</code></pre>
<h2>Uses</h2>
<p>There are several cases where keeping the aspect ratio of an item is important. Some of these examples (taken from <a href="https://web.dev/aspect-ratio/">New aspect-ratio CSS property supported in Chromium, Safari Technology Preview, and Firefox Nightly</a>):</p>
<ul>
<li>Creating responsive iframes, where they are 100% of a parent’s width, and the height should remain a specific viewport ratio</li>
<li>Creating intrinsic placeholder containers for images, videos, and embeds to prevent re-layout when the items load and take up space</li>
<li>Creating uniform, responsive space for interactive data visualizations or SVG animations</li>
<li>Creating uniform, responsive space for multi-element components such as cards or calendar dates</li>
<li>Creating uniform, responsive space for multiple images of varying dimension (can be used alongside object-fit)</li>
</ul>
<p>All these cases involve keeping the same aspect ratio for an item when inside a parent container.</p>
<h2>The <code>aspect-ratio</code> CSS property</h2>
<p>The <code>aspect-ratio</code> CSS property sets a preferred aspect ratio for the box, which will be used in the calculation of auto sizes and some other layout functions.</p>
<p>The example below, taken From Una Kravetz <a href="https://codepen.io/una/pen/BazyaOM">codepen</a> shows how this works with a div element.</p>
<p>We use this HTML code:</p>
<pre><code class="language-html">&lt;div&gt;I am always 16x9&lt;/div&gt;
</code></pre>
<p>And this CSS:</p>
<pre><code class="language-css">div {
  background: lightblue;
  width: 50vw;
  
  /*
    New aspect-ratio property
  */
  aspect-ratio: 16 / 9;
}
</code></pre>
<p>The browser will calculate the height of the element based on the explicit dimensions and the aspect ratio you indicate in your CSS regardless of the size of the window.</p>
<h2>Fallbacks</h2>
<p>For browsers that don’t support the property yet, you can use a fallback like the following code.</p>
<pre><code class="language-css">/* Fallback (current, using padding hack) */
@supports not (aspect-ratio: 16 / 9) { 
  div::before {
    float: left;
    padding-top: 56.25%;
    content: '';
  }
  
  div::after {
    display: block;
    content: '';
    clear: both;
  }
}
</code></pre>
<p>This uses a vertical padding hack first described in <a href="https://alistapart.com/article/creating-intrinsic-ratios-for-video/">Creating Intrinsic Ratios for Video</a> and shown working with images in <a href="https://www.bram.us/2017/06/16/aspect-ratios-in-css-are-a-hack/">Aspect Ratios in CSS are a Hack</a>. It is not the most elegant solution but it works in older browsers.</p>
<p>Something else to be aware, even in the browsers that support aspect ratio in CSS: Safari (the current technical preview), Chrome Canary (version 89 as of this writing) and Firefox Nightly (version 85), work on the feature may still be ongoing. If you’re interested check these issues for current status:</p>
<ul>
<li><strong>Chromium</strong>: <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=1045668">https://bugs.chromium.org/p/chromium/issues/detail?id=1045668</a></li>
<li><strong>Firefox</strong>: <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1528375">https://bugzilla.mozilla.org/show_bug.cgi?id=1528375</a></li>
<li><strong>Webkit (Safari)</strong>: <a href="https://bugs.webkit.org/show_bug.cgi?id=47738">https://bugs.webkit.org/show_bug.cgi?id=47738</a></li>
</ul>
