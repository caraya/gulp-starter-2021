<h1 id="revisiting-aart-directed-layouts" tabindex="-1">Revisiting Aart Directed Layouts</h1>
<p>I’ve always loved the work that Andrew Clarke has done over the years with art direction on the web. I came accross another of his ideas in <code>Inspired Design Decisions For The Web #3</code> that was part of my Smashing Magazines membership.</p>
<p>In it he talks about how we can make the same basic layout more interesting for our readers without having too many additional libraries.</p>
<h2 id="it-doesn%E2%80%99t-have-to-be-boring" tabindex="-1">It doesn’t have to be boring</h2>
<p>For ages we’ve blamed CSS frameworks for the sameness of our designs. We think that Bootstrap or Foundation are what make our designs bland and repetitive.</p>
<p>I haven’t used Foundation and Bootstrap in a while and Foundation (the framework I’ve used the most) has already <a href="https://zurb.com/playground/css-grid-examples">implemented CSS Grid</a> but Boostrap is still using a Flexbox layout for its grids.</p>
<p>If we’re willing to trade backwards compatibility and the need for polyfills for ease of development we can use native CSS Grids, <a href="https://gridbyexample.com/">explained by Rachel Andrew</a> and <a href="https://www.w3.org/TR/css-grid-1/">specified by the CSS Working Group</a></p>
<p>In it’s most basic form we can create a grid with this bit of CSS:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.page-container</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>12<span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">grid-gap</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>With this, all children of <code>page-container</code> are now items on the grid we just defined.</p>
<p>To add a little more flexibility I use custom properties to define the number of columns and the value of the gap.</p>
<p>With those changes the baseline code looks like this:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">:root</span> <span class="token punctuation">{</span>
  <span class="token property">--grid-columns</span><span class="token punctuation">:</span> 12<span class="token punctuation">;</span>
  <span class="token property">--grid-gap</span><span class="token punctuation">:</span> 10<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.page-container</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--grid-columns<span class="token punctuation">)</span><span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">grid-gap</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--grid-gap<span class="token punctuation">)</span>* 1px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Just by changing the value of <code>--grid-columns</code> in the <code>:root</code> pseudo element we can change the number of columns (that will still take equal portioons of the space on screen) and the gap between those columns.</p>
<p>With this flexibility we can create custom just by redefining the variables that we want to change. For example a 6-column grid in the same page could look like this:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.six-col-grid</span> <span class="token punctuation">{</span>
  <span class="token property">--grid-columns</span><span class="token punctuation">:</span> 6<span class="token punctuation">;</span>
  <span class="token property">--grid-gap</span><span class="token punctuation">:</span> 10<span class="token punctuation">;</span>

  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--grid-columns<span class="token punctuation">)</span><span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">grid-gap</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--grid-gap<span class="token punctuation">)</span>* 1px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>We redefine the columns inside the class where we want to change the values and the codee remains the same.</p>
<h2 id="fit-content-in-the-grid%3A-basic-placement" tabindex="-1">Fit content in the grid: Basic Placement</h2>
<p>Now that we’ve created the grid we can place contents in it.</p>
<p>CSS Grid has an implicit algorythm for placing items when there are no explicit instructions for placement.</p>
<p>If you create a grid all child items will lay themselves out one into each grid cell. The default flow is to arrange items by row. Grid will lay an item out into each cell of row 1. If you have created additional rows using <code>grid-template-rows</code> then grid will continue placing items in these rows. If the grid does not have enough rows in the explicit grid or if you did not create explicit rows at all it will creaate new implicit rows.</p>
<p>For example, reusing the grid from our last section.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">:root</span> <span class="token punctuation">{</span>
  <span class="token property">--grid-columns</span><span class="token punctuation">:</span> 12<span class="token punctuation">;</span>
  <span class="token property">--grid-gap</span><span class="token punctuation">:</span> 10<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.page-container</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--grid-columns<span class="token punctuation">)</span><span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">grid-gap</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--grid-gap<span class="token punctuation">)</span>* 1px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The HTML code below will produce twelve items in row one and nine items in row two.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box 1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box 2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box 3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box 4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box 5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box 6<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box 7<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box 8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box 9<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box 10<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box 11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box 12<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box a<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box b<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>b<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box c<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>c<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box d<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>d<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box e<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>e<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box f<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>f<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box g<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>g<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box h<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>h<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box i<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>i<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
</code></pre>
<p>You can see a working version in this <a href="https://codepen.io/caraya/live/VwZmExV">Codepen sample</a>.</p>
<p>This is cool but it’s too limiting to let the explicit algorythm do all the work.</p>
<p>We are able to place items in specific locations on the grid, taking advantage of the implicit behavior where needed, without restrictions.</p>
<p>For this example we’ll use fewer items in our container. It looks like this.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>page-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box box1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box box2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box box3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box box4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
</code></pre>
<p>The grid definition and the variables we used to create it remain unchanged. We’ve added the following rules to actually place the boxes in the grid at the specified locations.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.box1</span> <span class="token punctuation">{</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> 4 / 6<span class="token punctuation">;</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> 2 / 3<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box4</span> <span class="token punctuation">{</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> 1 / 2<span class="token punctuation">;</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> 1 / 3<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box2</span> <span class="token punctuation">{</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> 5 / 9<span class="token punctuation">;</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> 7<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box3</span> <span class="token punctuation">{</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> 10 / 12<span class="token punctuation">;</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="notes" tabindex="-1">Notes</h3>
<p>Wherethere are two numbers for grid-column or grid-row it indicates a span, the first number is the starting poisition and the second the latest.</p>
<p>While we can move the content around for visual displays this will not change the document order (there is another attribute for that). However, make sure that you can read the document in source order and that it makes sense for the reader.</p>
<h2 id="fit-content-in-the-grid%3A-named-lines" tabindex="-1">Fit content in the grid: Named Lines</h2>
<p>Another way to create the templates is to give each column a name. The code below creates 12 columns, each named <code>col-start</code> witha corresponding <code>col-end</code>. We’re keeping 10px gaps between the columns.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">:root</span> <span class="token punctuation">{</span>
  <span class="token property">--grid-columns</span><span class="token punctuation">:</span> 12<span class="token punctuation">;</span>
  <span class="token property">--grid-gap</span><span class="token punctuation">:</span> 10<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.page-container</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span>
    <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--grid-columns<span class="token punctuation">)</span><span class="token punctuation">,</span> [col-start] 1fr [col-end]<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">grid-gap</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--grid-gap<span class="token punctuation">)</span>* 1px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>This presents an interesting issue. If all columns are named the same how can we reference a specific instance?</p>
<p>We can take the name of the column and the number represeting the position.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.box1</span> <span class="token punctuation">{</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> col-start 4 / col-start 6<span class="token punctuation">;</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> 2 / 3<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box4</span> <span class="token punctuation">{</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> col-start / col-start 2<span class="token punctuation">;</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> 1 / 3<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box2</span> <span class="token punctuation">{</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> col-start 5 / col-start 9<span class="token punctuation">;</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> 7<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box3</span> <span class="token punctuation">{</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> col-start 10 / col-start 12<span class="token punctuation">;</span>
  <span class="token property">grid-row</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><a href="https://codepen.io/caraya/pen/bGbgRjW">This Pen</a> shows how these columns work and how we’ve produced the same display using named lines.</p>
<h2 id="making-the-job-easier%3A-using-grid-template-areas" tabindex="-1">Making the job easier: Using grid template areas</h2>
<p>Therre is one last way to create layouts using grid: Template Areas.</p>
<p>A grid area is the logical space used to lay out one or more grid items. A grid area consists of one or more adjacent grid cells. It is bound by four grid lines, one on each side of the grid area, and participates in the sizing of the grid tracks it intersects. A grid area can be named explicitly using the <code>grid-template-areas</code> property or referenced implicitly by its bounding grid lines.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.grid-container</span>  <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>6<span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> 100px 1fr 1fr 100px<span class="token punctuation">;</span>
  <span class="token property">grid-template-areas</span><span class="token punctuation">:</span> <span class="token string">"a a a a a a"</span>
                       <span class="token string">"b b b c c c"</span>
                       <span class="token string">"b b b c c c"</span>
                       <span class="token string">"b b b c c c"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.item1</span> <span class="token punctuation">{</span> <span class="token property">grid-area</span><span class="token punctuation">:</span> a<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">.item2</span> <span class="token punctuation">{</span> <span class="token property">grid-area</span><span class="token punctuation">:</span> b<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">.item3</span> <span class="token punctuation">{</span> <span class="token property">grid-area</span><span class="token punctuation">:</span> c<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre>
<p>The other thing worth noting this is how to leave areas of the template blank. In our definition of the template area use a dot (<code>.</code>) to designate areas where we don’t want content.</p>
<p>In our modified example, we’ve narrowed out content area to ignore the first column in area b and the last item in area c.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.page-container</span>  <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-gap</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>6<span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> 100px 1fr 1fr 100px<span class="token punctuation">;</span>
  <span class="token property">grid-template-areas</span><span class="token punctuation">:</span> <span class="token string">"a a a a a a"</span>
                       <span class="token string">". b b c c ."</span>
                       <span class="token string">". b b c c ."</span>
                       <span class="token string">"d d d d d d"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.box1</span> <span class="token punctuation">{</span> <span class="token property">grid-area</span><span class="token punctuation">:</span> a<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">.box2</span> <span class="token punctuation">{</span> <span class="token property">grid-area</span><span class="token punctuation">:</span> b<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">.box3</span> <span class="token punctuation">{</span> <span class="token property">grid-area</span><span class="token punctuation">:</span> c<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token selector">.box4</span> <span class="token punctuation">{</span> <span class="token property">grid-area</span><span class="token punctuation">:</span> d<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre>
<p>The resulting code looks like <a href="https://codepen.io/caraya/pen/QWLdMvV">this pen</a></p>
<h2 id="media-queries-and-making-it-work-on-mobile" tabindex="-1">Media Queries And Making It Work On Mobile</h2>
<p>We’ve worked on building the grids but these are not responsive by default. We can use media queries to make the layout responsive by doing one or both of the following:</p>
<ul>
<li>change the layout itself</li>
<li>change the way that content is laid out on different form factors</li>
</ul>
<p>In this example we have two media queries that will change the number of columns based on the device’s width. If the screen is 768px (48em) or narrower, we want to work with three columns.</p>
<p>If the screen is wider than 48em then we want to work with 12 columns.</p>
<p>This is meant as an example, I would probably add more media queries to acommodate larger and smaller form factors.</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/* These are global defaults */</span>
<span class="token selector">:root</span> <span class="token punctuation">{</span>
  <span class="token property">--grid-columns</span><span class="token punctuation">:</span> 12<span class="token punctuation">;</span>
  <span class="token property">--grid-gap</span><span class="token punctuation">:</span> 10<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 48em<span class="token punctuation">;</span></span><span class="token selector">)</span> <span class="token punctuation">{</span>
  <span class="token selector">.page-container</span> <span class="token punctuation">{</span>
    <span class="token comment">/* Override :root custom properties */</span>
    <span class="token property">--grid-columns</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span>
    <span class="token property">--grid-gap</span><span class="token punctuation">:</span> 10<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
    <span class="token comment">/*
      The overrides will use the new values
      in the declarations below
    */</span>
    <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--grid-columns<span class="token punctuation">)</span><span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">grid-gap</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--grid-gap<span class="token punctuation">)</span>* 1px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 48em<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.page-container</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
    <span class="token comment">/*
      These declarations will use the values from :root
    */</span>
    <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--grid-columns<span class="token punctuation">)</span><span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">grid-gap</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--grid-gap<span class="token punctuation">)</span>* 1px<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The second part is to change the way we layout the content.</p>
<p>In this version, we move the sidebar to the bottom of the page in smaller screens and we reduce the number of columns to make sure that the content remains readable.</p>
<p>Here we setup a basic default  for the <code>page-container</code> element.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.page-container</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-gap</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">grid-template-areas</span><span class="token punctuation">:</span>
   <span class="token string">"title"</span>
   <span class="token string">"sidebar"</span>
   <span class="token string">"content"</span>
   <span class="token string">"sidebar2"</span>
   <span class="token string">"footer"</span>
<span class="token punctuation">}</span>
</code></pre>
<p>We also set up two media queries. One for screens smaller than 48em (768px) and one larger.</p>
<p>The first query is for the smaller screens. Here we’ve moved the sidebars under the main text.</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/* screen smaller than 48em */</span>
<span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 48em<span class="token punctuation">)</span></span>  <span class="token punctuation">{</span>
  <span class="token selector">.page-container</span> <span class="token punctuation">{</span>
    <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>3<span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">grid-gap</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">grid-template-areas</span><span class="token punctuation">:</span>
    <span class="token string">"title title title"</span>
    <span class="token string">"content content content"</span>
    <span class="token string">"sidebar sidebar sidebar"</span>
    <span class="token string">"sidebar2 sidebar2 sidebar2"</span>
    <span class="token string">"footer footer footer"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The second media query sets up our standard default for screens larger than 48em. We put the sidebars to each side  of the main content.</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/* screen larger than 48em */</span>
<span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 48em<span class="token punctuation">)</span></span>   <span class="token punctuation">{</span>
  <span class="token selector">.page-container</span> <span class="token punctuation">{</span>
    <span class="token property">grid-gap</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> 120px auto 120px<span class="token punctuation">;</span>
    <span class="token property">grid-template-areas</span><span class="token punctuation">:</span>
    <span class="token string">"title  title  title"</span>
    <span class="token string">"sidebar content sidebar2"</span>
    <span class="token string">"sidebar content sidebar2"</span>
    <span class="token string">"footer  footer  footer"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>There is a <a href="https://codepen.io/caraya/pen/LYPxqEy">working Codepen</a> that shows how it works.</p>
<h2 id="putting-it-all-together" tabindex="-1">Putting it all together</h2>
<p>Following <code>Inspired Design Decisions</code> and <a href="https://www.smashingmagazine.com/2018/04/art-directing-web-css-grid/">Art Directing For The Web With CSS Grid Template Areas</a> we can start looking at how to build more engaging and communicative layouts for our web content.</p>
<p>Because they are all part of the web platform, we can combine grids with other layout methods like multi-column or flexbox to creates powerful layout possibilities.</p>
<p>This is a very basic layout meant as a starting point to experiment with and continue evolving. I’ll explain more about this in the conclusion.</p>
<p>I’ve broken the code into sections to make the explanation easier to follow.</p>
<p>The first block deals with utilities that we’ll use throughout the rest of the stylesheet.</p>
<p>The first thing we do is import the font we’ll use from Google Fonts. Normally I would use local fonts rather than importing them like this but I’m ok with the potential rendering delay because it’s an experiment and because Google fonts now uses <strong><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display">font-display</a>: swap</strong> by default.</p>
<p>Next we make sure that all elements of the page use <strong><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing">box-sizing</a>: border-box</strong> to eliminate border and margins as sources of potential layout issues later.</p>
<p>The last thing in this block is to setup default for our font in the <code>html</code> element.</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@import</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i&amp;display=swap'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span></span>

<span class="token selector">*,
*:before,
*:after</span> <span class="token punctuation">{</span>
  <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">html</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> Lato<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
  <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The next block creates classes for displaying images 2 at a time in the same row. I know I can probably get away without these classes but I wanted something that would hold without resizing or changing the images’ location.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.image-2-up</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>
  <span class="token property">align-content</span><span class="token punctuation">:</span> stretch<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.child-image</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Next we create our base style for the <code>grid-container</code> element. These are the defaults that we’ll override with <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries">media queries</a> later.</p>
<p>Along with the defaults, this block also sets up the grid template areas that each type of element will use. This is pretty much set in stone as what will change is the grid template itself in the media queries.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.page-container</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
  <span class="token property">grid-gap</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">grid-template-areas</span><span class="token punctuation">:</span>
   <span class="token string">"title"</span>
   <span class="token string">"content"</span>
   <span class="token string">"content"</span>
   <span class="token string">"footer"</span>
<span class="token punctuation">}</span>

<span class="token selector">.title</span> <span class="token punctuation">{</span>
  <span class="token property">grid-area</span><span class="token punctuation">:</span> title<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.content</span> <span class="token punctuation">{</span>
  <span class="token property">grid-area</span><span class="token punctuation">:</span> content<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.image-2-up</span> <span class="token punctuation">{</span>
  <span class="token property">grid-area</span><span class="token punctuation">:</span> figures<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.footer</span> <span class="token punctuation">{</span>
  <span class="token property">grid-area</span><span class="token punctuation">:</span> footer<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The first media query is for window sizes larger than 48em. In this case we set up a 6-column grid and place the title and the content in different locations and with different column widths.</p>
<p>We also make the content a single row of that spans across the layout.</p>
<p>We place the title and content so they start in different locations to create more white space and make it easier to read.</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 48em<span class="token punctuation">)</span></span>   <span class="token punctuation">{</span>
  <span class="token selector">.page-container</span> <span class="token punctuation">{</span>
    <span class="token property">grid-gap</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token function">repeat</span><span class="token punctuation">(</span>6<span class="token punctuation">,</span> 1fr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">grid-template-areas</span><span class="token punctuation">:</span>
    <span class="token string">"title  title  title title  title  title"</span>
    <span class="token string">"figures figures figures figures figures figures"</span>
    <span class="token string">"content content content content content content"</span>
    <span class="token string">"footer  footer  footer footer footer footer"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token selector">.title</span> <span class="token punctuation">{</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> 2 / 4<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 150%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token selector">.content</span> <span class="token punctuation">{</span>
  <span class="token property">grid-column</span><span class="token punctuation">:</span> 2 / 6<span class="token punctuation">;</span>
  <span class="token property">columns</span><span class="token punctuation">:</span> 2<span class="token punctuation">;</span>
  <span class="token property">column-gap</span><span class="token punctuation">:</span> 2.5em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The last query is for screen sizes smaller than 48em. In this case we make more radical changes. We switch from grid to block layouts to make sure we can view as much content as possible in smaller devices.</p>
<p>The images flex box is changed from row orientation to column so that the images will display in a vertical line rather than horizontal.</p>
<p>And we switch the content to a single column. For some reason, setting <code>columns</code> to 1 is not enough. We also have to make the column width 100% for it to work.</p>
<pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 48em<span class="token punctuation">)</span></span>  <span class="token punctuation">{</span>
  <span class="token selector">.page-container</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.image-2-up</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.content</span> <span class="token punctuation">{</span>
    <span class="token property">columns</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">column-width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>That’s it. There is a <a href="https://codepen.io/caraya/pen/OJLpMZz">working Codepen</a> that shows what the code does and how it works.</p>
<h2 id="closing" tabindex="-1">Closing</h2>
<p>The code shown here is a good starting point but it’s not complete by any stretch of the imagination. Here are a few things that I’d like to further explore.</p>
<p><strong>Does the <code>image-2-up</code> flexbox scale to more than 4 images? what about smaller images?</strong></p>
<p>I took 2 images and stitched them together using this class. Is it flexible enough to handle more than 2 images, different sized images or an odd number of images?</p>
<p><strong>How to revert multi column layout to a single column</strong></p>
<p><strong>Better typography</strong></p>
<p>Because I was more concerned with layout for the purpose of this post, I didn’t pay attention to typography. There are things that we could do to make the text read easier and that’s something I’d like to explore further, particularly in the multi column layout.</p>
<ul>
<li><a href="https://www.smashingmagazine.com/2018/04/art-directing-web-css-grid/">Art Directing For The Web With CSS Grid Template Areas</a></li>
<li><a href="https://speakerdeck.com/jensimmons/revolutionize-your-page-real-art-direction-on-the-web">Revolutionize Your Page: Real Art Direction on the Web</a>0 Presentation Deck by Jen Simmons</li>
<li><a href="https://www.youtube.com/watch?v=5Z7lSSMwRgo">Real Art Direction on the Web</a> - Conference talk by Jen Simmons</li>
<li>[Grid By Example]</li>
</ul>
