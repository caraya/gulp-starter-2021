<h1 id="theming-with-css-variables" tabindex="-1">Theming with CSS Variables</h1>
<p>One of the best things about CSS variables is that they allow you to create themes for your content.</p>
<h2 id="reviewing-css-variables" tabindex="-1">Reviewing CSS Variables</h2>
<p>CSS variables or, more precisely, CSS Custom properties allow you to define reusable values for elements across your stylesheet. This is particularly good for consistency and ease of change, we only need to make one change and all the places where we use the variable will be changed automatically.</p>
<p>Variables can be global, those defined in the <code>:root</code> pseudo-element (equivalent to the HTML document) and those specific to elements in the page.</p>
<h2 id="defining-the-core-theme" tabindex="-1">Defining The Core Theme</h2>
<p>The example below shows a set of variables defined globally, values that we can use regardless of the element we’re working with.</p>
<p>The second block defines attributes for messages with different levels of severity (<code>info</code>, <code>warning</code> and <code>danger</code>). One block has attributes that are common to all messages, the other is specific to each level and, for now, adds a background color specific to each type of message we’re working with.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">:root</span> <span class="token punctuation">{</span>
  <span class="token comment">/* generic margin values*/</span>
  <span class="token property">--margin-small</span><span class="token punctuation">:</span> 0.5em<span class="token punctuation">;</span>
  <span class="token property">--margin-normal</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">--margin-large</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>

  <span class="token comment">/* generic padding values */</span>
  <span class="token property">--padding-small</span><span class="token punctuation">:</span> 0.5em<span class="token punctuation">;</span>
  <span class="token property">--padding-normal</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
  <span class="token property">--padding-large</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>

  <span class="token comment">/* MESSAGES */</span>
  <span class="token comment">/* message common attributes */</span>
  <span class="token property">--message-bordercolor</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">--message-bordertype</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span>
  <span class="token property">--message-borderthickness</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
  <span class="token property">--message-borderradius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token comment">/* info background color */</span>
  <span class="token property">--message-info--backgroundcolor</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>176<span class="token punctuation">,</span> 216<span class="token punctuation">,</span> 230<span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">/* warning background color */</span>
  <span class="token property">--message-warning--backgroundcolor</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 255<span class="token punctuation">,</span> 224<span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">/* danger background color */</span>
  <span class="token property">--message-danger--backgroundcolor</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>205<span class="token punctuation">,</span> 92<span class="token punctuation">,</span> 92<span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Using the stylesheet we defined above, we can create new elements using the variables defined in the stylesheet. You can use shorthand properties such as border, shown below.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.message</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--message-borderthickness<span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--message-bordertype<span class="token punctuation">)</span> <span class="token function">var</span><span class="token punctuation">(</span>--message-bordercolor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--message-borderradius<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--margin-normal<span class="token punctuation">)</span> auto<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--padding-small<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.info</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--mesage-info--backgroundcolor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.warning</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--message-warning--backgroundcolor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.danger</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--message-danger--backgroundcolor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>We can also code defensively and use multiple values to cover browsers that don’t support variables. In the example below, the CSS parser will work through the different values and ignore those it doesn’t support, so it’ll go through RGB, RGBA and then use custom variables to assign the background color, if it doesn’t understand a value it will ignore the rule so we can rely on having only one rule that the browser will understand and it’ll use the last rule added to the page. I’ve made the assumption that if the browser supports variables it also supports RGBA, which I’ve used to define the color.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.info</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>176<span class="token punctuation">,</span> 216<span class="token punctuation">,</span> 230<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>176<span class="token punctuation">,</span> 216<span class="token punctuation">,</span> 230<span class="token punctuation">,</span> 1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--message-info--backgroundcolor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>I’ve worked this example into a <a href="https://codepen.io/caraya/full/ZxyXRV/">Codepen Demo</a> that may be easier to understand.</p>
