<h2 id="understanding-react">Understanding React</h2>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  element<span class="token punctuation">,</span>
  container<span class="token punctuation">,</span>
  <span class="token punctuation">[</span>callback<span class="token punctuation">]</span>
<span class="token punctuation">)</span>
</code></pre>
<p>At the most basic level Reacts uses the <code>Render</code> method to stamp out components to the DOM in the supplied container and return a reference to the component (or returns null for stateless components).</p>
<p>If the React element was previously rendered into container, this will perform an update on it and only mutate the DOM as necessary to reflect the latest React element.</p>
<p>If the optional callback is provided, it will be executed after the component is rendered or updated.</p>
<p>For example to render the following text inside the <code>#app</code> element:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Hello World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
</code></pre>
<p>We use the following React code</p>
<pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Hello React<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token comment">&lt;!-- my app renders here --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>react/build/react.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>react/build/react-dom.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
      ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
        React<span class="token punctuation">.</span><span class="token constant">DOM</span><span class="token punctuation">.</span><span class="token function">p</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
<blockquote>
<p>Note:</p>
<p>ReactDOM.render() controls the contents of the container node you pass in. Any existing DOM elements inside are replaced when first called. Later calls use React’s DOM diffing algorithm for efficient updates.</p>
<p>ReactDOM.render() does not modify the container node (only modifies the children of the container). It may be possible to insert a component to an existing DOM node without overwriting the existing children.</p>
<p>ReactDOM.render() currently returns a reference to the root ReactComponent instance. However, using this return value is legacy and should be avoided because future versions of React may render components asynchronously in some cases. If you need a reference to the root ReactComponent instance, the preferred solution is to attach a callback ref to the root element.</p>
</blockquote>
<p>If we have common properties for the elements we create we can use the first parameter to <code>React.DOM.*</code> to pass the parameters we need to. To make the example more elaborate we can add attributes</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> attributes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">"introduction"</span>
<span class="token punctuation">}</span>
  
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
React<span class="token punctuation">.</span><span class="token constant">DOM</span><span class="token punctuation">.</span><span class="token function">p</span><span class="token punctuation">(</span>attributes<span class="token punctuation">,</span> <span class="token string">"Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>I’m old school, progressive enhancement, type of guy and when I don’t see content in a page I get worried. I don’t see any content in the page and wonder what will happen if Javascript times out or doesn’t load for any reason.</p>
<p>I know what you’ll tell me: It’s absurd to think that Javascript is disabled or will not load… but what happens if the user is in in an area of low wifi connectivity or where it’ll take so long that the user will choose not to engage with the application is just as bad as having Javascript disabled. We haven’t considered the possibility of the user disabling Javascript to get better performance or them being in a zone with poor wireless connectivity.</p>
<p>The content of the page is rendered client-side after all the React libraries have loaded. There are two things that worry me. OK, I’ll give you that this is a bare bones application built by someone who wants to learn React but it’s still troubling that there is no mention of accessibility anywhere in the React docs or in most conversations on the web about React.</p>
<p>The consensus seems to be that developers should work accessibility into their regular workflow but without guidance how to properly implement accessibility in React apps. What I don’t understand is why have a React Native accessibility checker but not one for React web?</p>
<p>React supports all data-* and aria-* attributes so we should be able to build the accessibility. My fear is that, without tools, the number of people who build accessible applications decreases. React native has an accessibility checking tool but it has not been ported to React.</p>
<p>And even in the best situation accessibility issues are not obvious or apparent unless you’re an expert. In the video below Marcy Sutton, an accessibility specialist covers some issues in React accessibility.</p>
<div class="video">
<iframe width="560" height="315" src="https://www.youtube.com/embed/zxsUsgBYCIc?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
<p>For more information see <a href="https://www.smashingmagazine.com/2015/05/client-rendered-accessibility/">Client Rendered Accessibility</a> by Marcy Sutton in Smashing Magazine.</p>
<h3 id="element-versus-components">Element versus components</h3>
<p>So I’ve created my first React element, rendered it and complained about the potential access and accessibility issues present in such an approach we’ll move on to creating React components. Again, I don’t profess to be a React expert but someone who needs to know enough so that if asked I can provide a coherent answer.</p>
<p>Elements are hard to reuse and debug. That’s where components come in. We can use React’s <code>createClass</code> method or we can create classes directly.</p>
<p>An example using <code>React.createClass</code> looks like this</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> Greeting <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> React<span class="token punctuation">.</span><span class="token constant">DOM</span><span class="token punctuation">.</span><span class="token function">h1</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"My name is "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>Greeting<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Bob"</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"app"</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>The same component created as an ES6 class looks like this:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Greeting</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">></span>name is  <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Greeting<span class="token punctuation">;</span>
</code></pre>
<h3 id="server-versus-client-rendering">Server versus Client rendering</h3>
<p>Does server-side rendering help with concerns like the ones I have?  It might but I don’t think it’s a good solution. It moves part of the workload to the server but it still requires pushing the rendered content, the application state and any javascript library needed on the client… would love to see metrics of how server-side-rendering compares to client-side rendering across devices and applications</p>
<p>In <a href="https://www.smashingmagazine.com/2016/03/server-side-rendering-react-node-express/">Server-Side Rendering with React, Node And Express</a></p>
<h2 id="links-and-resources">Links and Resources</h2>
<ul>
<li><a href="https://react.rocks/">https://react.rocks/</a></li>
<li>Look for react components in <a href="https://github.com/davidtheclark">https://github.com/davidtheclark</a></li>
</ul>
