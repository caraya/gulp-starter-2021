<h1 id="quick-note%3A-loading-images-using-javascript">Quick Note: Loading images using javascript</h1>
<p>I’m not a fan of doing this but there are use cases when we need to retrieve an image from the network and place it in the page. One case that comes to mind is the need to retrieve generated images from a real time application to display in web pages or other parts of a web application.</p>
<p>In the example below I’ve added comments to the specific lines to discuss.</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://rivendellweb.net/blog/wp-content/uploads/2016/10/IMG_0813.jpg'</span><span class="token punctuation">)</span>
<span class="token comment">// 1</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	  <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">blob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">imageBlob</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>imageBlob<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// 5  Place the image</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">// 6</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'There was an error loading the image '</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ol>
<li>Fetch the image</li>
<li>Return the response as a blob (binary object)</li>
<li>Create and image</li>
<li>Create a src attribute by using URL.createObjectURL with the imageBlob as the parameter</li>
<li>Place the image in the page. Left intentionally blank because it depends on usage</li>
<li>Catch any errors and log them to console</li>
</ol>
<h2 id="links-and-resources">Links and Resources</h2>
<ul>
<li><a href="https://fetch.spec.whatwg.org/">Fetch Living Standaard - WHATWG</a></li>
<li><a href="https://css-tricks.com/using-fetch/">Using Fetch - CSS Tricks</a></li>
<li><a href="https://davidwalsh.name/fetch">Fetch API - David Walsh</a></li>
</ul>
