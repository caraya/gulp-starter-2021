<h1 id="shapes-in-css%3A-freeing-the-layout">Shapes in CSS: Freeing the layout</h1>
<p>Shapes allow you to wrap text around parts of an image or a predefined shape. Using these shapes we can change the way text looks on the screen</p>
<h2 id="shape-without-image">Shape without image</h2>
<p>In its most simple way, we can wrap text around an invisible shape defined as we would a clip-path.</p>
<p>The HTML defines an empty <code>div</code> element that will hold the shape we define in CSS.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>coffee<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Dark, lungo, café au lait in latte fair
trade blue mountain strong, redeye sugar
seasonal café au lait Turkish. Black mug
variety, cappuccino, single-shot body sit
grounds coffee whipped Turkish et, skinny,
doppio so filter Turkish spoon affogato rich.
</code></pre>
<p>The CSS for the <code>.cofee</code> div we defined in markup holds the shape that the text will flow around.</p>
<p>The element must have explicit dimensions (<code>width</code> and <code>height</code>) and must be floated.</p>
<p>The <code>shape-outside</code> attribute describes the shape that the text will wrap around.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.coffee</span> <span class="token punctuation">{</span>
  <span class="token property">shape-outside</span><span class="token punctuation">:</span> <span class="token function">circle</span><span class="token punctuation">(</span>40%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The examples, so far have only used a single shape, but you can use other values for shape-outside as shown in the list below, taken from (<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/shape-outside">MDN</a>).</p>
<p>&lt;dl&gt;
&lt;dt&gt;&lt;code&gt;none&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;The float area is unaffected. Inline content wraps around the element's margin box, like usual.&lt;/dd&gt;</p>
<p>&lt;dt&gt;&lt;code&gt;&lt;shape-box&gt;&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;The float area is computed according to the shape of a float element's edges (as defined by the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/box_model&quot;&gt;CSS box model&lt;/a&gt;). This can be &lt;code&gt;margin-box&lt;/code&gt;, &lt;code&gt;border-box&lt;/code&gt;, &lt;code&gt;padding-box&lt;/code&gt;, or &lt;code&gt;content-box&lt;/code&gt;. The shape includes any curvature created by the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius&quot;&gt;&lt;code&gt;border-radius&lt;/code&gt;&lt;/a&gt; property.&lt;/dd&gt;
&lt;dd&gt;</p>
<p>&lt;dl&gt;
&lt;dt&gt;&lt;code&gt;margin-box&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Defines the shape enclosed by the outside margin edge. The corner radii of this shape are determined by the corresponding &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/border-radius&quot;&gt;&lt;code&gt;border-radius&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/margin&quot;&gt;&lt;code&gt;margin&lt;/code&gt;&lt;/a&gt; values.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;border-box&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Defines the shape enclosed by the outside border edge. The shape follows the normal border radius shaping rules for the outside of the border.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;padding-box&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Defines the shape enclosed by the outside padding edge. The shape follows the normal border radius shaping rules for the inside of the border.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;content-box&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Defines the shape enclosed by the outside content edge. Each corner radius of this box is the larger of &lt;code&gt;0&lt;/code&gt; or &lt;code&gt;border-radius - border-width - padding&lt;/code&gt;.&lt;/dd&gt;
&lt;/dl&gt;</p>
<p>&lt;dt&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/basic-shape&quot;&gt;&lt;code&gt;&lt;basic-shape&gt;&lt;/code&gt;&lt;/a&gt;&lt;/dt&gt;
&lt;/dd&gt;&lt;dd&gt;The float area is computed based on the shape created by of one of &lt;code&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/basic-shape#inset()&quot;&gt;inset()&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=&quot;/https://developer.mozilla.orgen-US/docs/Web/CSS/basic-shape#circle()&quot;&gt;circle()&lt;/a&gt;&lt;/code&gt;, &lt;code&gt;&lt;a href=&quot;/https://developer.mozilla.orgen-US/docs/Web/CSS/basic-shape#ellipse()&quot;&gt;ellipse()&lt;/a&gt;&lt;/code&gt;, or &lt;code&gt;&lt;a href=&quot;/https://developer.mozilla.orgen-US/docs/Web/CSS/basic-shape#polygon()&quot;&gt;polygon()&lt;/a&gt;&lt;/code&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;a href=&quot;/https://developer.mozilla.orgen-US/docs/Web/CSS/image&quot;&gt;&lt;code&gt;&lt;image&gt;&lt;/code&gt;&lt;/a&gt;&lt;/dt&gt;
&lt;dd&gt;The float area is extracted and computed based on the alpha channel of the specified &lt;a href=&quot;/en-US/docs/Web/CSS/image&quot;&gt;&lt;code&gt;&lt;image&gt;&lt;/code&gt;&lt;/a&gt; as defined by &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/shape-image-threshold&quot;&gt;&lt;code&gt;shape-image-threshold&lt;/code&gt;&lt;/a&gt;.&lt;/dd&gt;
&lt;/dl&gt;</p>
<h2 id="shape-with-an-image">Shape with an image</h2>
<p>We can combine shapes with images to get a graphical effect of the text wrapping around an image rather than around a space.</p>
<p>In this example, we add an image of a coffee cup and give it a class to reference it from CSS.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>I'm nice, once I've
had my coffee<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>coffee<span class="token punctuation">"</span></span>
<span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>path/to/coffee2.png<span class="token punctuation">'</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>coffee cup<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Dark, lungo, café au lait in latte
fair trade blue mountain strong, redeye
sugar seasonal café au lait turkish.
Black mug variety, cappuccino, single shot
 body sit grounds coffee whipped
 Turkish et, skinny …<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
</code></pre>
<p>The CSS for the image (<code>.coffee</code>) uses <code>shape-outside</code> and <code>shape-image-threshold</code>.</p>
<p>When you use an image as the value for <code>shape-outside</code> the shape is defined by the pixels whose alpha value is greater than the threshold.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.coffee</span> <span class="token punctuation">{</span>
  <span class="token property">shape-outside</span><span class="token punctuation">:</span> <span class="token function">circle</span><span class="token punctuation">(</span>50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">shape-image-threshold</span><span class="token punctuation">:</span> 0.5<span class="token punctuation">;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>We can play with <code>shape-outside</code> to place text on top of the image and use images of arbitrary complexity to make our text &quot;speak&quot; in the voice we want.</p>
<h2 id="shapes-and-multiple-images">Shapes and multiple images</h2>
<p>Another way we can use shapes to make text flow between shapes creating custom layouts that move us outside boxes, at least visually.</p>
<p>The example adds two empty divs (<code>coffee</code> and <code>coffee2</code>).</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>coffee<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>coffee2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Dark, lungo, café au lait in latte fair
 trade blue mountain strong, redeye sugar
 seasonal café au lait Turkish. Black mug
 variety, cappuccino, single-shot body sit
 grounds coffee whipped Turkish et, skinny,
 doppio so filter Turkish spoon affogato
 rich. Steamed roast, froth fair trade
 chicory a dripper, Turkish, extra milk,
 wings, milk dark Viennese, and est, filter,
 caffeine café au lait ut aromatic aged.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
</code></pre>
<p>The CSS defines two identical properties that create the same space on the left and right sides.</p>
<p>We could abstract the common elements to a third class that we can reuse but for this example, I'm ok with the duplication.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.coffee</span> <span class="token punctuation">{</span>
 <span class="token property">shape-outside</span><span class="token punctuation">:</span> <span class="token function">circle</span><span class="token punctuation">(</span>50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
 <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
 <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.coffee2</span> <span class="token punctuation">{</span>
 <span class="token property">shape-outside</span><span class="token punctuation">:</span> <span class="token function">circle</span><span class="token punctuation">(</span>50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
 <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
 <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>You can see the final product in this <a href="https://codepen.io/caraya/pen/zYYKgML">Codepen</a></p>
<h2 id="a-more-complex-example">A more complex example</h2>
<p>When shapes were first released there was a companion specification for regions. This demo from the Adobe Web Platform team uses both.</p>
<p>Sadly, Regions are not supported in any browser other than old Edge so instead, I chose to present a video from Adobe, showing the project.</p>
<p>&lt;div class=&quot;video&quot;&gt;
&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/VON2shFlsKU&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;</p>
