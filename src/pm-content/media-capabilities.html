<html lang="en">

<head>
  <!-- <link rel="stylesheet" href="../paged-media/highlight/styles/solarized-light.css"> -->
  <link rel="stylesheet" href="../paged-media/prism/prism.css">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">
  <title></title>
</head>

<body data-type="book">

  <h1>Media Capabilities API</h1>
<p>We can use this API to query the device if this is an appropriate format to play in it. It returns whether the media type (audio or video):</p>
<ul>
<li>Is supported</li>
<li>Will play smoothly</li>
<li>Is power efficient</li>
</ul>
<p>Based on the answers you can decide if you will show the video to the user, provide a smaller alternative or provide a fallbackk right away.</p>
<p>This is an alternative to adaptive video playback where the player decides what resolution to play (of those available) based on the user deviceâ€™s characteristics.</p>
<pre><code class="language-javascript">const configuration = {
  type : 'file',
  video : {
    contentType : 'video/mp4; codecs=avc1.64001E',
    width : 640,
    height : 480,
    bitrate : 10000,
    framerate : '30'
  }
};
navigator.mediaCapabilities.decodingInfo(configuration)
  .then((result) =&gt; {
    console.log(result.contentType + ' is:'
    + (result.supported ? '' : ' NOT') + ' supported,'
    + (result.smooth ? '' : ' NOT') + ' smooth and'
    + (result.powerEfficient ? '' : ' NOT') + ' power efficient');
  })
  .catch((err) =&gt; {
    console.error('encodingInfo to threw an error ', err);
  });
</code></pre>
<p>There is another section of the spec, currently under development that will query display capabilities such as luminance, color depth, and color gamut but those sections are not complete and, to be honest, are less interesting than learning how to handle video without doing DASH or HLS or providing an optimized viewing experience if you choose to use Adaptive Streaming anyways.</p>


<!-- <script src="../paged-media/highlight/highlight.pack.js"></script> -->
<script src="../paged-media/prism/prism.js"></script>
</body>
</html>