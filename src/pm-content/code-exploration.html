<html lang="en">

<head>
  <!-- <link rel="stylesheet" href="../paged-media/highlight/styles/solarized-light.css"> -->
  <link rel="stylesheet" href="../paged-media/prism/prism.css">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">
  <title></title>
</head>

<body data-type="book">

  <h1 id="code-exploration-tool">Code exploration tool</h1>
<p>A lot of the code I write for blog posts gets tested in one or more browsers through the console. It’s tedious and errors are hard to debug (not that it’s the console’s job but…) so I’d like to use something other than DevTools to do exploratory coding in Javascript, similar but not quite the same as, doing <a href="http://www.literateprogramming.com/">Literate Programming</a></p>
<h2 id="jupyter%2C-jupyterlab-and-jupyterhub">Jupyter, JupyterLab and JupyterHub</h2>
<p>I first heard of <a href="https://ipython.org/">iPython</a>, now Jupyter, when I was looking at doing work in Data visualization. Over time there have been <a href="https://github.com/jupyter/jupyter/wiki/Jupyter-kernels">additional language kernels</a> including <a href="https://github.com/n-riesco/ijavascript">Javascript</a> and <a href="https://github.com/gopherdata/gophernotes">Go</a>.</p>
<p>Working with Javascript in such an environment is intriguing as it allows you to work in a Node environment with immediate feedback, as if you were working in a web-based REPL with the possibility of adding things like <a href="https://github.com/jsdom/jsdom">JSDOM</a> or an alternative to simulate a browser environment.</p>
<figure>
  <img src="https://cdn-images-1.medium.com/max/1600/1*_jDTWlZNUySwrRBgVNqoNw.png" alt="JupyterLab notebook">
  <figcaption>PythonLab, the next generrationn Jupyter notebook</figcaption>
</figure>
<figure>
  <img src="https://github.com/n-riesco/ijavascript/raw/master/images/screenshot-notebook-hello.png" alt="Jupyter Notebook working in Javascript">
  <figcaption>Jupyter Notebook working in Javascript</figcaption>
</figure>
<p>So what can we use Jupyter and its ecosystem for?</p>
<ul>
<li>To work on code problems (our own or someone elses’) in a fully interactive environment</li>
<li>To share code results either by sharing notebooks or publishing to a collaborative environment</li>
<li>Integrate code with other elements such as external images, visualizations generated from code, PDF, Markdown and other formats</li>
<li>Allow for multiple simultaneous edits to a notebook, similar to what G Suite files (docs, sheets, slides) do</li>
</ul>
<p>There are more areas where tools like Jupyter may be useful but these are the oness that come to mind first.</p>
<h3 id="getting-started%3A-jupyter-and-notebook">Getting Started: Jupyter and Notebook</h3>
<p>These instructions are the basis for what comes next and assume a level of familiarity with command line tools and python. It also asumes that Python 3 has been installed on your system as <code>python3</code> with Pip installed by default as <code>pip3</code>.</p>
<p>First, install pip3; if it’s already installed it’ll check if it’s the latest version and upgrade it if it’s not.</p>
<pre class="language-bash"><code class="language-bash">pip3 <span class="token function">install</span> <span class="token parameter variable">-U</span> pip
</code></pre>
<p>Then install the Jupyter Notebook using the same technique as we did for Pip. Install it if it’s not available and upgrade it if installed and not the latest version.</p>
<pre class="language-bash"><code class="language-bash">pip3 <span class="token function">install</span> <span class="token parameter variable">-U</span> jupyter
</code></pre>
<p>To test that it works just run the notebook using the following command:</p>
<pre class="language-bash"><code class="language-bash">jupyter notebook
</code></pre>
<h3 id="getting-started%3A-javascript">Getting Started: Javascript</h3>
<p>Now that we have the basic Jupyter installed we can install Javascript support. Run the following command</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> ijavascript
</code></pre>
<p>This will make Javascript available as a language for new notebooks.</p>
<p>If you use <code>nvm</code> make sure that you’re using the version of Node where you installed the <code>ijavascript</code> package, otherwise you will get errors when starting a new Javascript notebook.</p>
<h3 id="testing-the-installation%3A-jupyter-notebook">Testing the installation: Jupyter Notebook</h3>
<p>IF it works it should open your default web browser and provide a list of files in your current directory.</p>
<figure>
  <img src="https://publishing-project.rivendellweb.net/wp-content/uploads/2019/05/python-notebook-start.png" alt="Jupyter Notebook Starting Screen">
  <figcaption>Jupyter Notebook Starting Screen</figcaption>
</figure>
<p>You can click the new button (on the right side of the screen) and it’ll give you a list of available languages; this particular configuration Python2, Python3, Go and Javascript/Node available.</p>
<figure>
  <img src="https://publishing-project.rivendellweb.net/wp-content/uploads/2019/05/python-notebooks-languages.png" alt="Python Notebook list of available languages">
  <figcaption>List of available languages available when creating a new Jupyter notebook</figcaption>
</figure>
<h3 id="getting-started%3A-jupyterlab">Getting Started: JupyterLab</h3>
<p>Jupyter notebooks do a lot of awesome things but the UI is not the best. There is another way to view Jupyter notebooks: <code>JupyterLab</code>.</p>
<p>As shown in the image below, the interface for JupyterLab is cleaner and easier to use than the notebook interface discussed earlier.</p>
<figure>
  <img src="https://publishing-project.rivendellweb.net/wp-content/uploads/2019/05/ipython-lab-launcher.png" alt="JupyterLab launcher showing available languages">
  <figcaption>JupyterLab launcher in dark mode showing available languages</figcaption>
</figure>
<p>To install <code>JupyterLab</code> run the following command</p>
<pre class="language-bash"><code class="language-bash">pip3 <span class="token function">install</span> <span class="token parameter variable">-U</span> jupyterlab
</code></pre>
<p>and then test it by running</p>
<pre class="language-bash"><code class="language-bash">jupyter lab
</code></pre>
<p>If it works, it will automatically open a browser and show the luncher discussed earlier.</p>
<h3 id="now-what%3F">Now what?</h3>
<p>We’ve installed all the components for <code>JupyterLab</code> and are ready to go, what do we do with it?</p>
<p>I normally test code for my blog posts in Chrome’s console. This gives me a browser environment without having to install anything.</p>
<p>But it’s tedious and debugging is harder than working with code embedded on the hosting page. If we’re working in Node we should be able to use a Jupyter Javascript notebook as is but, if we’re working on browser code then we might have a problem as Node doesn’t have the same globals as browsers do and may not support the same exact set of features.</p>
<figure>
  <img src="https://publishing-project.rivendellweb.net/wp-content/uploads/2019/05/jupyter-lab-javascript2.png" alt="Javascript code running inside Jupyter Lab">
  <figcaption>Javascript code running inside Jupyter Lab</figcaption>
</figure>
<p>We can import code from Node packages.</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> init <span class="token parameter variable">--yes</span>
</code></pre>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> i axios handlebars
</code></pre>
<p>In this case we import <code>axios</code> to handle fetching the data and <code>handlebars</code> to display the resulting data.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> axios <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'axios'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> handlebars <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'handlebars'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>In our first iteration we use Axios to <code>get</code> JSON daata from our API and, for now, loog the data to the console.</p>
<pre class="language-js"><code class="language-js">axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://publishing-project.rivendellweb.net/wp-json/wp/v2/posts'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// This will display the data</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>The first problem I hit with this demo is that I need the following HTML to work so the example works properly and I can’t get it to work so, until I do that means that we’re limited to working with Node APIs amd modules.</p>
<pre class="language-js"><code class="language-js">$$<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div id="myContent">hello world&lt;/div>

&lt;template id="post-list-template">

  {{#each posts}}
  &lt;div class="post">
    &lt;h1>{{title.rendered}}&lt;/h1>
    &lt;div>
      {{{content.rendered}}}
    &lt;/div>
  &lt;/div>
  {{/each}}

&lt;/template></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>$$<span class="token punctuation">.</span>html<span class="token punctuation">)</span>
</code></pre>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myContent<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post-list-template<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

  {{#each posts}}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>{{title.rendered}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
      {{{content.rendered}}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  {{/each}}

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
</code></pre>
<p>The alternative is the <a href="https://github.com/jsdom/jsdom">jsdom</a> package to</p>
<h1 id="observable-(fka%3A-d3.express)">Observable (FKA: d3.express)</h1>
<h1 id="links">Links</h1>
<ul>
<li>Jupyter
<ul>
<li><a href="https://jupyter.org/">Jupyter</a></li>
<li><a href="https://blog.jupyter.org/jupyterlab-is-ready-for-users-5a6f039b8906">JupyterLab is Ready for Users</a></li>
<li><a href="https://www.sean-lan.com/2016/09/12/jupyter-notebook-set-up/">Setting Up Jupyter Notebook with JavaScript, Python2 and Python3 Support</a></li>
<li><a href="https://the-littlest-jupyterhub.readthedocs.io/">The Littlest JupyterHub</a>
<ul>
<li><a href="https://the-littlest-jupyterhub.readthedocs.io/en/latest/install/google.html">Installing on Google Cloud</a></li>
<li><a href="https://the-littlest-jupyterhub.readthedocs.io/en/latest/install/digitalocean.html">Installing on Digital Ocean</a></li>
<li><a href="https://the-littlest-jupyterhub.readthedocs.io/en/latest/install/amazon.html">Installing on Amazon Web Services</a></li>
</ul>
</li>
<li><a href="https://github.com/jupyterlab/jupyterlab">JupyterLab</a>
<ul>
<li><a href="https://www.npmjs.com/search?q=keywords:jupyterlab-extension">JupyterLab extensions on NPM</a></li>
<li><a href="">JupyterLab extensions in Github</a></li>
</ul>
</li>
</ul>
</li>
<li>Emulating a browser
<ul>
<li><a href="https://github.com/jsdom/jsdom">JSDOM</a></li>
</ul>
</li>
<li>Observable
<ul>
<li><a href="https://medium.com/@mbostock/a-better-way-to-code-2b1d2876a3a0">A better way to code</a></li>
<li><a href="https://observablehq.com/">Observable Site</a></li>
<li><a href="https://observablehq.com/@observablehq/downloading-and-embedding-notebooks">Downloading and embedding notebooks</a></li>
</ul>
</li>
</ul>


<!-- <script src="../paged-media/highlight/highlight.pack.js"></script> -->
<script src="../paged-media/prism/prism.js"></script>
</body>
</html>