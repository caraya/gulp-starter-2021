<html lang="en" dir="ltr" class="no-js lazy">

<head>
  <!--<link rel="stylesheet" href="ccs/github.css">-->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/image-load.css">
  <link rel="stylesheet" href="css/video-load.css">
  <link rel="stylesheet" href="css/prism.css">
  <!-- <script async src="scripts/menu.js"></script> -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <title></title>
</head>

<body>
<article class="container">
  <h2>Testing for selector support</h2>
<blockquote>
<p>This post assumes you’re working on a modern browser that supports <code>@supports</code> and the target features you want to use. This is not always a safe assumption to make.</p>
</blockquote>
<p><a href="https://drafts.csswg.org/css-conditional-3/">CSS Conditional Rules Module Level 3</a> defines CSS Feature Queries and the <code>@supports</code> rule that allows developers to code defensively and only use a feature if it’s supported in browsers and provide fallbacks when it’s not.</p>
<p>For example, if we wanted to have different layouts for browsers that support grid and those that don’t we can do something like this:</p>
<pre><code class="language-css">@supports (display: grid) {
  .container {
    display: grid;
  }
}

@supports not (display: grid) {
  .container {
    display: block;
    /*
      Use Flex or some other layout
      to replace grid
    */
  }
}
</code></pre>
<p><a href="https://drafts.csswg.org/css-conditional-4/">CSS Conditional Rules Module Level 4</a> introduced the <code>selector</code> rule for feature queries.</p>
<p><a href="https://twitter.com/MiriSuzanne">Miriam Suzanne</a> from the Firefox team does a good job introducing selector feature queries.</p>
<div class="video">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/WjvJheGhHIQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
<p>The <code>::marker</code> CSS pseudo-element matches the marker box of a list item, which typically contains a bullet or number.</p>
<p>The following feature query matches on browsers that support the <a href="https://css-tricks.com/almanac/selectors/m/marker/">::marker</a> pseudo-element.</p>
<pre><code class="language-css">@supports selector(::marker) {
  ol li::marker {
    color: rebeccapurple;
    font-family: cursive;
    font-size: 2em;
    font-weight: 900;
    content: '✅';
  }

  li {
    padding-left: 1em;
  }
}
</code></pre>
<p>This may be tricky as you have to evaluate whether your target browsers support the features that you want both in terms of features and their component rules.</p>
<p>In the <code>::marker</code> example above, a browser may support some features of the pseudo element like color, font family, size or weight and not others like content with an emoji as its value. If this is the caase you’ll have to decide if this is ok or not.</p>
<h2>Support List</h2>
<p>The follwoing browsers support selector feature queries</p>
<ul>
<li>Firefox 69</li>
<li>Chromium browsers: Under development; See <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=979041">crbug 979041</a></li>
</ul>

</article>
<!--
</div> -->
<script src="scripts/lazy-load.js"></script>
<script src="scripts/vendor/clipboard.min.js"></script>
<script src="scripts/vendor/prism.js"></script>
<script src="scripts/vendor/fontfaceobserver.js"></script>
<script src="scripts/load-fonts.js"></script>
<script src="scripts/lazy-load-video.js"></script>
</body>
</html>